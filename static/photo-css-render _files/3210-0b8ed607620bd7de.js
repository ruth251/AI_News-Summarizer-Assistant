try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c72bbd05-727c-4145-9d4b-cf6a3b84cfc6",e._sentryDebugIdIdentifier="sentry-dbid-c72bbd05-727c-4145-9d4b-cf6a3b84cfc6")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3210],{63210:function(e,t,r){"use strict";r.d(t,{t:function(){return G}});var n=r(57437),a=r(99376),s=r(2265),i=r(62395),o=r(33145),l=r(27648),c=r(46214),d=r(62869),u=r(78276),m=r(49284),p=r(69522),f=r(26110),x=r(27132),h=r(76906),j=r(88568);let b=e=>{let{handleRemix:t,isRemixing:r,isOpen:a,onClose:s,project:i,remixDisabled:o,remixDisableReason:c}=e,m=(0,h.t)({projectId:i.id}),p=(0,x.Z)("md");return(0,n.jsx)(f.Vq,{open:a,onOpenChange:s,children:(0,n.jsxs)(f.cZ,{className:"flex h-[85vh] max-h-none max-w-[90vw] flex-col rounded-3xl p-4",size:"xl",hideCloseButton:!0,children:[(0,n.jsxs)("div",{className:"flex items-center ".concat(p?"justify-center":"justify-between"),children:[!p&&(0,n.jsx)("div",{className:"flex items-center gap-1.5 truncate pl-0.5",children:(0,n.jsxs)(f.$N,{className:"truncate",children:[i.name,i.authorName&&(0,n.jsxs)("span",{className:"ml-1 text-muted-foreground/50",children:["by ",i.authorName]})]})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.z,{asChild:!0,variant:"outline",className:"flex items-center gap-1",children:(0,n.jsx)(l.default,{href:"/projects/".concat(i.id),children:"Open Project"})}),(0,n.jsx)(u.b,{showTooltip:o,tooltipContent:c,children:(0,n.jsx)(d.z,{onClick:()=>{t({projectId:i.id})},disabled:r||o,loading:r,className:"flex items-center gap-1",children:r?"Remixing...":"Remix"})})]})]}),(0,n.jsx)("div",{className:"flex flex-1 overflow-hidden rounded-lg border",children:(0,n.jsx)("iframe",{sandbox:j.h,src:m,className:"h-full w-full",style:{border:"none",margin:0,padding:0},allow:"accelerometer; autoplay; camera; encrypted-media; fullscreen; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; payment; usb; vr; xr-spatial-tracking; screen-wake-lock; magnetometer; ambient-light-sensor; battery; gamepad; picture-in-picture; display-capture; bluetooth;"})})]})})};var g=r(14438),v=r(64040),y=r(49131),w=r(97318),N=r(29827),_=r(30401),P=r(32489),C=r(88391),k=r(41135);let R=e=>{let{projectId:t,projectName:r,invitor:a,onAccept:i,onReject:o}=e,[l,c]=(0,s.useState)(!1),u=(0,N.NL)(),m=async()=>{c(!0);try{let e=(0,y.SJ)();await e.put("/projects/".concat(t,"/collaborators/accept-invite")),g.Am.success("Invitation accepted!",{description:'You can now access "'.concat(r,'"')}),await u.invalidateQueries({queryKey:w.iZ.sharedWithMe()}),null==i||i()}catch(e){(0,v.Eo)(e)}finally{c(!1)}},p=async()=>{c(!0);try{let e=(0,y.SJ)();await e.put("/projects/".concat(t,"/collaborators/reject-invite")),g.Am.info("Invitation declined",{description:"You've declined the invitation to \"".concat(r,'"')}),await u.invalidateQueries({queryKey:w.iZ.sharedWithMe()}),null==o||o()}catch(e){(0,v.Eo)(e)}finally{c(!1)}};return(0,n.jsxs)(f.cZ,{className:"gap-4 outline-none focus:ring-0",size:"md",hideCloseButton:!0,blurOverlay:!0,onInteractOutside:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,n.jsxs)("div",{className:"flex flex-col items-start gap-4",children:[(0,n.jsx)(k.xx,{className:"h-9"}),(0,n.jsxs)(f.fK,{children:[(0,n.jsx)(f.$N,{className:"text-2xl md:text-3xl",children:"You've been invited!"}),(0,n.jsxs)(f.Be,{children:["You've been invited to collaborate on \"",r,'"',a&&" by ".concat(a)]})]})]}),(0,n.jsxs)(f.cN,{fullWidthButtons:!0,className:"flex-col gap-2",children:[(0,n.jsxs)(d.z,{onClick:e=>{e.preventDefault(),e.stopPropagation(),m()},disabled:l,className:"w-full",children:[(0,n.jsx)(_.Z,{className:"mr-2 h-4 w-4"}),"Accept invitation"]}),(0,n.jsxs)(d.z,{onClick:e=>{e.preventDefault(),e.stopPropagation(),p()},disabled:l,className:"w-full",variant:"outline",children:[(0,n.jsx)(P.Z,{className:"mr-2 h-4 w-4"}),"Decline invitation"]})]})]})},D=e=>{let{projectId:t,projectName:r,invitor:a,onAccept:i,onReject:o}=e,[l,c]=(0,s.useState)(!1),d=(0,N.NL)(),u=(0,x.Z)("md"),m=(0,C.z)(R),p=async()=>{c(!0);try{let e=(0,y.SJ)();await e.put("/projects/".concat(t,"/collaborators/accept-invite")),g.Am.success("Invitation accepted!",{description:'You can now access "'.concat(r,'"')}),await d.invalidateQueries({queryKey:w.iZ.sharedWithMe()}),m(!1),null==i||i()}catch(e){(0,v.Eo)(e)}finally{c(!1)}},f=async()=>{c(!0);try{let e=(0,y.SJ)();await e.put("/projects/".concat(t,"/collaborators/reject-invite")),g.Am.info("Invitation declined",{description:"You've declined the invitation to \"".concat(r,'"')}),await d.invalidateQueries({queryKey:w.iZ.sharedWithMe()}),null==o||o()}catch(e){(0,v.Eo)(e)}finally{c(!1)}};return u?(0,n.jsxs)("div",{className:"absolute inset-0 flex cursor-pointer flex-col items-center justify-center bg-black/30 p-3",onClick:()=>{u&&m({childProps:{projectId:t,projectName:r,invitor:a,onAccept:p,onReject:f}})},children:[(0,n.jsxs)("div",{className:"mb-4 text-center text-sm text-white",children:["You've been invited to collaborate on \"",r,'"',a&&" by ".concat(a)]}),(0,n.jsx)("div",{className:"text-center text-xs text-white/80",children:"Tap to accept or decline"})]}):(0,n.jsxs)("div",{className:"absolute inset-0 hidden flex-col items-center justify-between bg-black/30 p-3 opacity-0 transition-all duration-300 ease-out group-hover:opacity-100 md:flex",children:[(0,n.jsxs)("div",{className:"flex flex-1 items-center justify-center px-2 text-center text-sm text-white",children:["You've been invited to collaborate on \"",r,'"',a&&" by ".concat(a)]}),(0,n.jsxs)("div",{className:"flex h-1/4 w-full translate-y-8 transform gap-2 transition-transform duration-300 ease-out group-hover:translate-y-0",children:[(0,n.jsxs)("div",{role:"button",tabIndex:0,onClick:e=>{e.preventDefault(),e.stopPropagation(),p()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.stopPropagation(),p())},className:"flex h-10 w-full cursor-pointer items-center justify-center rounded-xl border-none bg-primary text-primary-foreground transition-colors hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ".concat(l?"pointer-events-none opacity-50":""),children:[(0,n.jsx)(_.Z,{className:"h-3 w-3"}),"Accept"]}),(0,n.jsxs)("div",{role:"button",tabIndex:0,onClick:e=>{e.preventDefault(),e.stopPropagation(),f()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.stopPropagation(),f())},className:"flex h-10 w-full cursor-pointer items-center justify-center rounded-xl border border-input bg-background text-foreground transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ".concat(l?"pointer-events-none opacity-50":""),children:[(0,n.jsx)(P.Z,{className:"h-3 w-3"}),"Decline"]})]})]})},E=e=>{let{handleRemix:t,handlePreview:r,isRemixing:a,remixDisabled:s,remixDisableReason:i}=e;return(0,n.jsx)("div",{className:"absolute inset-0 hidden items-end justify-center gap-2 bg-black/30 p-3 opacity-0 transition-all duration-300 ease-out group-hover:opacity-100 md:flex",children:(0,n.jsxs)("div",{className:"flex w-full translate-y-8 transform gap-2 transition-transform duration-300 ease-out group-hover:translate-y-0",children:[(0,n.jsx)(u.b,{className:"w-full",showTooltip:s,tooltipContent:i,children:(0,n.jsx)(d.z,{onClick:t,disabled:a||s,className:"flex h-10 w-full rounded-xl border-none",loading:a,variant:"default",children:a?"Remixing...":"Remix"})}),(0,n.jsx)(d.z,{size:"default",variant:"outline",onClick:r,className:"flex h-10 w-full rounded-xl border-none",children:"Preview"})]})})},I=(0,s.memo)(e=>{var t,r;let{project:a,previewUrl:i,isCommunityProject:d,isLibraryProject:u=!1,positionIndex:f,isPendingInvite:x=!1}=e,[h,j]=(0,s.useState)(!1),{mutate:g,isPending:v}=(0,p.G)(),y=e=>{e.preventDefault(),e.stopPropagation(),g({projectId:a.id})},w=e=>{e.preventDefault(),e.stopPropagation(),j(!0)},N=!!a.supabase_project_config,_=N?"This project can't be remixed because it's connected to Supabase":void 0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.default,{href:i,className:"group relative mb-3 aspect-video w-full overflow-hidden rounded-xl bg-muted ".concat(x?"cursor-default":""),prefetch:!x,scroll:!1,onClick:e=>{x&&e.preventDefault(),0!==e.button||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||e.defaultPrevented||!d||(e.preventDefault(),c.ZP.capture(m.SL.COMMUNITY.PROJECT_CLICKED,{project_id:a.id,project_name:a.name,project_category:a.category,position_index:f}),j(!0))},children:a.latest_screenshot_url?(0,n.jsxs)("div",{className:"relative h-full w-full",children:[(0,n.jsx)(o.default,{src:a.latest_screenshot_url,alt:"Screenshot of ".concat(a.name||"project"),className:"rounded-xl border border-muted-border",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover",objectPosition:"top"},draggable:"false"}),x&&(0,n.jsx)(D,{projectId:a.id,projectName:null!==(t=a.name)&&void 0!==t?t:"Untitled Project",invitor:null!==(r=a.user_display_name)&&void 0!==r?r:""}),d&&(0,n.jsx)(E,{handleRemix:y,handlePreview:w,isRemixing:v,remixDisabled:N,remixDisableReason:_}),u&&(0,n.jsx)(S,{projectId:a.id})]}):(0,n.jsxs)("div",{className:"h-full w-full rounded-xl border border-muted-border bg-muted",children:[d&&(0,n.jsx)(E,{handleRemix:y,handlePreview:w,isRemixing:v,remixDisabled:N,remixDisableReason:_}),u&&(0,n.jsx)(S,{projectId:a.id})]})}),(0,n.jsx)(b,{handleRemix:g,isRemixing:v,remixDisabled:N,remixDisableReason:_,isOpen:h,onClose:()=>j(!1),project:{id:a.id,name:a.name||"Untitled Project",authorName:a.user_display_name||void 0}})]})});I.displayName="ProjectImage";let S=e=>{let{projectId:t}=e;return(0,n.jsx)("div",{className:"absolute inset-0 hidden items-end justify-center gap-2 bg-black/30 p-3 opacity-0 transition-all duration-300 ease-out group-hover:opacity-100 md:flex",children:(0,n.jsx)("div",{className:"flex w-full translate-y-8 transform justify-center gap-2 transition-transform duration-300 ease-out group-hover:translate-y-0",children:(0,n.jsx)(d.z,{className:"flex h-10 rounded-xl border-none",variant:"default",type:"button",asChild:!0,children:(0,n.jsx)(l.default,{href:"/?libraryId=".concat(t),children:"Start from this Library"})})})})};var z=r(99803),A=r.n(z);function O(){return(0,n.jsx)("span",{className:"bg-foreground before:bg-foreground after:bg-foreground ".concat(A().DotElastic," inline-block")})}let F=e=>{let{project:t}=e;return(0,n.jsx)("p",{className:"overflow-hidden truncate whitespace-nowrap",children:"in_progress"!==t.status||t.name?t.name||t.id:(0,n.jsxs)(n.Fragment,{children:["Dreaming up name",(0,n.jsx)(O,{})]})})};var K=r(81103);let Z=(0,s.memo)(e=>{let{supabaseProjectConfig:t,clickable:r=!0}=e;return(0,n.jsxs)(K.u,{children:[(0,n.jsx)(K.aJ,{asChild:!0,children:r?(0,n.jsx)(l.default,{href:"https://supabase.com/dashboard/project/".concat(null==t?void 0:t.supabase_project_id),target:"_blank",children:(0,n.jsx)(k.Cl,{className:"size-4"})}):(0,n.jsx)("div",{children:(0,n.jsx)(k.Cl,{className:"size-4"})})}),(0,n.jsx)(K._v,{children:r?"Click to open in Supabase.":"Connected to Supabase"})]})});Z.displayName="SupabaseIcon";var T=r(54510),Y=r(5978);let W=e=>{let{updatedAt:t}=e,r=null;return"string"==typeof t?r=new Date(t):t instanceof Y.EK&&(r=t.toDate()),r?(0,T.Q)(r,{addSuffix:!0}):""};var L=r(52558),q=r(60256),J=r(70335),Q=r(59702),M=r(79117),U=r(55721),X=r(57346),B=r(97801);let $=e=>{let{project:t}=e,{authUser:r}=(0,L.Eu)(),i=(0,a.useRouter)(),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[m,f]=(0,s.useState)(!1),{mutate:x,isPending:h}=(0,p.G)(),j=!t.supabase_project_config;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(U.h_,{open:o,onOpenChange:l,children:[(0,n.jsx)(U.$F,{asChild:!0,children:(0,n.jsx)(d.z,{variant:"ghost",size:"icon-sm",className:"mb-auto transition-opacity ".concat(o?"opacity-100":"opacity-100 group-hover:opacity-100 sm:opacity-0 sm:group-hover:opacity-100"),disabled:h,children:(0,n.jsx)(X.Z,{name:"more_horiz",size:"small"})})}),(0,n.jsxs)(U.AW,{align:"end",children:[(0,n.jsxs)(U.Xi,{onClick:e=>{if(e.preventDefault(),e.stopPropagation(),!r){i.push("/login?redirect=".concat(window.location.pathname));return}x({projectId:t.id,includeHistory:!1})},disabled:!j||h,children:[(0,n.jsx)(X.Z,{name:h?"progress_activity":"shuffle",size:"small",className:h?"animate-spin":""}),h?"Remixing...":"Remix",!j&&(0,n.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Unavailable for Supabase projects)"})]}),(0,n.jsxs)(U.Xi,{onClick:()=>{l(!1),u(!0)},children:[(0,n.jsx)(X.Z,{name:"edit_square",size:"small"}),"Rename"]}),(0,n.jsxs)(U.Xi,{onClick:()=>{l(!1),f(!0)},className:"text-destructive-primary",children:[(0,n.jsx)(X.Z,{name:"delete",size:"small"}),"Delete"]})]})]}),(0,n.jsx)(M.i,{project:t,isOpen:c,onClose:()=>u(!1)}),(0,n.jsx)(Q.p,{project:t,isOpen:m,onClose:()=>f(!1)})]})},G=(0,s.memo)(e=>{var t,r;let{project:a,isSupabaseClickable:o=!0,showAvatar:l=!0,selectedCategory:c,subtitleType:d="remixes",isCommunityProject:u,positionIndex:m,isLibraryProject:p=!1}=e,f=null==a?void 0:a.id,{authUser:x}=(0,L.Eu)(),{userData:h}=(0,q.SE)(),j=(0,s.useMemo)(()=>!!x&&!!a&&(a.user_id===x.uid||null!=h&&!!h.is_admin),[x,h,a]),b=(0,s.useMemo)(()=>f?"/projects/".concat(f):"",[f]),g=null==a?void 0:null===(t=a.collaboration_status)||void 0===t?void 0:t.is_pending;if(null===a)return(0,n.jsx)(i.R,{});let v=a.remix_count?a.remix_count:0,y=1===v?"1 Remix":"".concat(v," Remixes"),w="all"===c||c!==a.category,N=(()=>{switch(d){case"remixes":return y;case"edit-time":return a.updated_at?"Edited ".concat(W({updatedAt:a.updated_at})):null;case"create-time":return a.created_at?"Created ".concat(W({updatedAt:a.created_at})):null;case"trending-rank":return null!=a.feature_rank?"Ranked ".concat(a.feature_rank):"Ranked -";case"created-by":return a.created_by?"Created by ".concat(a.created_by):null;default:return d}})();return(0,n.jsxs)("div",{className:"group relative flex flex-col",children:[(0,n.jsx)(I,{project:a,previewUrl:b,isCommunityProject:u,isLibraryProject:p,positionIndex:m,isPendingInvite:g}),l?(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(J.Y,{user:{id:a.user_id,username:a.user_display_name||""},photoURL:null!==(r=a.user_photo_url)&&void 0!==r?r:void 0,className:"h-9 w-9"}),(0,n.jsx)("div",{className:"flex w-full min-w-0 justify-between",children:(0,n.jsxs)("div",{className:"flex flex-col truncate",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,n.jsx)(F,{project:a}),w&&(0,n.jsx)(B.s,{category:a.category})]}),(0,n.jsx)("div",{className:"flex h-5 items-center gap-2 text-sm text-muted-foreground",children:N&&(0,n.jsx)("p",{children:N})})]})}),j&&!p&&(0,n.jsx)($,{project:a})]}):(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsxs)("div",{className:"flex min-w-0 flex-col",children:[(0,n.jsx)("div",{className:"flex w-full justify-between",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,n.jsx)(F,{project:a}),w&&(0,n.jsx)(B.s,{category:a.category})]})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[N&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:N}),a.supabase_project_config?(0,n.jsx)(Z,{supabaseProjectConfig:a.supabase_project_config,clickable:o}):null]})]}),j&&(0,n.jsx)($,{project:a})]})]})});G.displayName="ProjectCard"},62395:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(57437),a=r(93022);let s=()=>(0,n.jsxs)("div",{className:"group flex flex-col",children:[(0,n.jsx)(a.O,{className:"mb-3 aspect-video h-full w-full rounded-lg bg-muted"}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 py-1",children:[(0,n.jsx)(a.O,{className:"h-3.5 w-[150px] bg-muted"}),(0,n.jsx)(a.O,{className:"h-3.5 w-[120px] bg-muted"})]})]})},97801:function(e,t,r){"use strict";r.d(t,{E:function(){return s},s:function(){return o}});var n=r(57437);r(2265);var a=r(94508);let s={internal_tools:"Internal Tools",website:"Website",personal:"Personal",consumer_app:"Consumer App",b2b_app:"B2B App",prototype:"Prototype"},i={internal_tools:"bg-brand-sapphire text-brand-sapphire-foreground",website:"bg-brand-saffron text-brand-saffron-foreground",personal:"bg-brand-bubblegum text-brand-bubblegum-foreground",consumer_app:"bg-brand-flamingo text-brand-flamingo-foreground",b2b_app:"bg-brand-twilight text-brand-twilight-foreground",prototype:"bg-brand-tiger text-brand-tiger-foreground"},o=e=>{let{category:t}=e;if(!t)return null;let r=s[t],o=i[t];return(0,n.jsx)("span",{className:(0,a.cn)("mr-2 inline-block rounded-md px-2 py-0.5 text-xs font-medium",o),title:r,children:r})}},88568:function(e,t,r){"use strict";r.d(t,{h:function(){return n}});let n="allow-scripts allow-same-origin allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-popups-to-escape-sandbox allow-popups allow-downloads allow-storage-access-by-user-activation"},69522:function(e,t,r){"use strict";r.d(t,{G:function(){return p}});var n=r(21770),a=r(43577),s=r(99376),i=r(14438),o=r(52558),l=r(61922),c=r(49131),d=r(21288);let u={title:"Project remixed",description:"We're taking you to the new project page"},m={unauthorized:"You have to be logged in to remix projects",workspace:"You need to be in a workspace to remix projects",general:"Error remixing project",generalDescription:"Please try again"},p=e=>{let{authUser:t}=(0,o.Eu)(),r=(0,s.useRouter)(),p=(0,l.aS)(e=>e.currentWorkspace),f=(null==e?void 0:e.currentWorkspaceId)||(null==p?void 0:p.id),{mutate:x,isPending:h}=(0,n.D)({mutationFn:async e=>{let{projectId:t,includeHistory:r=!1}=e;if(!f){i.Am.error(m.workspace);return}return(0,c.SJ)().post("/projects/".concat(t,"/remix"),{include_history:r,workspace_id:f})},onMutate:()=>{var t;null==e||null===(t=e.onSubmit)||void 0===t||t.call(e)},onSuccess:e=>{e&&(i.Am.success(u.title,{description:u.description}),r.push("/projects/".concat(e.project_id)))},onError:(e,t)=>{let{projectId:r}=t;d.logging.error("Error remixing project",{projectId:r,error:e}),e.status===a.WE.Unauthorized?i.Am.error(m.unauthorized):i.Am.error(m.general,{description:m.generalDescription})}});return{mutate:x,isPending:h&&!!t}}},92825:function(e,t,r){"use strict";r.d(t,{N:function(){return l}});var n=r(57437),a=r(2265),s=r(16831),i=r(81103),o=r(94508);let l=e=>{let{name:t,isInteractive:r,className:l,photoSrc:c,userColor:d,isWorkspace:u=!1,tooltipContent:m=t,...p}=e,f=t?t.charAt(0).toUpperCase():"",[x,h]=(0,a.useState)(!1);return(0,n.jsxs)(i.u,{open:!!r&&!!t&&x,onOpenChange:h,children:[(0,n.jsx)(i.aJ,{asChild:!0,children:(0,n.jsxs)(s.qE,{className:(0,o.cn)("h-[26px] w-[26px] shrink-0 border border-transparent text-xs",{["hover:bg-".concat(d)]:!c&&!u&&r,"cursor-pointer":r,["hover:border-".concat(d)]:r,["group-[.avatars]:hover:border-".concat(d)]:r,"group-[.avatars]:border-background":!0,"rounded-[8px] hover:border-transparent":u},l),...p,children:[(0,n.jsx)(s.F$,{className:"aspect-auto object-cover",src:c}),(0,n.jsx)(s.Q5,{className:(0,o.cn)("font-medium text-white bg-".concat(d),u&&"rounded-[8px]",l),children:f})]})}),(0,n.jsx)(i._v,{children:m})]})}},70335:function(e,t,r){"use strict";r.d(t,{Y:function(){return i}});var n=r(57437),a=r(92825),s=r(79858);let i=e=>{var t;let{isInteractive:r=!1,className:i,user:o,photoURL:l,...c}=e,d=(0,s.Q)(null==o?void 0:o.id),u=(null==o?void 0:null===(t=o.attributes)||void 0===t?void 0:t.display_name)||(null==o?void 0:o.username)||(null==o?void 0:o.id);return(0,n.jsx)(a.N,{name:u,isInteractive:r,photoSrc:l,userColor:d,className:i,...c})}},4310:function(e,t,r){"use strict";r.d(t,{_J:function(){return s},aR:function(){return n},c_:function(){return a}}),r(57437),r(62869),r(57346);let n="GPT-Engineer-App",a=(e,t)=>"https://github.com/".concat(t||n,"/").concat(e),s=(e,t,r)=>"".concat(a(e,r),"/commit/").concat(t)},59702:function(e,t,r){"use strict";r.d(t,{p:function(){return h}});var n=r(57437),a=r(29827),s=r(21770),i=r(99376),o=r(2265),l=r(14438),c=r(61922),d=r(4310),u=r(62869),m=r(26110),p=r(64040),f=r(49131),x=r(97318);let h=e=>{var t,r,h,j,b;let{project:g,isOpen:v,onClose:y}=e,[w,N]=(0,o.useState)(null),_=(0,i.useRouter)(),P=(0,a.NL)(),C=(0,c.aS)(e=>{var t;return null===(t=e.currentWorkspace)||void 0===t?void 0:t.id}),k=(0,s.D)({mutationFn:async()=>(0,f.SJ)().delete("/projects/".concat(g.id)),onSuccess:e=>{if(P.invalidateQueries({queryKey:x.iZ.all}),P.invalidateQueries({queryKey:x.E.detail(C||"")}),e.deleting_repo)l.Am.success("Project deleted",{description:"Your project has been deleted."});else{var t;_.push("/?deleted=true&projectName=".concat(g.github_repo_name,"&githubOwner=").concat(null===(t=g.github_owner)||void 0===t?void 0:t.name))}y()},onError:e=>{var t;let r=(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.detail)||"Something went wrong";(0,p.Eo)(e),N(r)}}),R=async()=>{N(null),await k.mutateAsync()};return(0,n.jsx)(m.Vq,{open:v,onOpenChange:y,children:(0,n.jsxs)(m.cZ,{size:"sm",children:[(0,n.jsxs)(m.fK,{children:[(0,n.jsxs)(m.$N,{children:["Delete ",g.name,"?"]}),(0,n.jsxs)(m.Be,{children:["This action cannot be undone."," ",(0,n.jsx)("span",{className:"text-destructive-primary",children:"This will permanently delete your project."})," ","Including:",(0,n.jsxs)("ul",{className:"my-2 list-disc pl-5 text-left",children:[(0,n.jsx)("li",{children:"Any deployments made with Lovable"}),(0,n.jsx)("li",{children:"All preview links"}),(null==g?void 0:null===(t=g.github_owner)||void 0===t?void 0:t.name)&&!(g.github_owner.name!==d.aR)&&(0,n.jsx)("li",{children:"All generated code"})]}),(null==g?void 0:null===(r=g.github_owner)||void 0===r?void 0:r.name)&&g.github_owner.name!==d.aR&&(0,n.jsxs)("p",{className:"mt-2",children:["Note: The Github repository"," ",(0,n.jsxs)("a",{href:null!==(b=(0,d.c_)(g.github_repo_name,null==g?void 0:null===(h=g.github_owner)||void 0===h?void 0:h.name))&&void 0!==b?b:"#",target:"_blank",rel:"noreferrer",className:"font-medium text-foreground hover:underline",children:[null==g?void 0:null===(j=g.github_owner)||void 0===j?void 0:j.name,"/",null==g?void 0:g.github_repo_name]})," ","will not be deleted."]})]})]}),(0,n.jsxs)(m.cN,{children:[(0,n.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>{y(),N(null)},children:"Cancel"}),(0,n.jsx)(u.z,{variant:"destructive",size:"sm",onClick:R,loading:k.isPending,children:k.isPending?"Deleting...":"Delete Project"})]}),w&&(0,n.jsx)("p",{className:"mt-2 text-sm text-destructive-primary",children:w})]})})}},79117:function(e,t,r){"use strict";r.d(t,{i:function(){return g}});var n=r(57437),a=r(13590),s=r(29827),i=r(21770),o=r(29501),l=r(14438),c=r(91115),d=r(61922),u=r(62869),m=r(26110),p=r(15681),f=r(95186),x=r(64040),h=r(49131),j=r(97318);let b=c.z.object({newProjectName:c.z.string().min(1,"Project name is required").max(45,"Project name must be less than 45 characters").regex(/^[a-z0-9-]+$/,{message:"Project name can only contain lowercase letters, numbers, and hyphens."}).regex(/^(?!.*--).+$/,{message:"Project name cannot contain consecutive hyphens."}).regex(/^[a-z]/,{message:"Project name must start with a lowercase letter."}).regex(/[a-z0-9]$/,{message:"Project name cannot end with a hyphen."})}),g=e=>{let{project:t,isOpen:r,onClose:c}=e,g=(0,s.NL)(),v=(0,d.aS)(e=>{var t;return null===(t=e.currentWorkspace)||void 0===t?void 0:t.id}),y=(0,o.cI)({resolver:(0,a.F)(b),defaultValues:{newProjectName:t.name||""}}),w=(0,i.D)({mutationFn:async e=>{let{name:r}=e;return(0,h.SJ)().put("/projects/".concat(t.id),{name:r})},onSuccess:(e,t)=>{g.invalidateQueries({queryKey:j.iZ.all}),g.invalidateQueries({queryKey:j.E.detail(v||"")}),l.Am.success("Project renamed successfully"),c(),y.reset({newProjectName:t.name})},onError:e=>{(0,x.Eo)(e)}}),N=async e=>{await w.mutateAsync({name:e.newProjectName})},_=!!y.formState.dirtyFields.newProjectName;return(0,n.jsx)(m.Vq,{open:r,onOpenChange:c,children:(0,n.jsxs)(m.cZ,{size:"sm",children:[(0,n.jsxs)(m.fK,{children:[(0,n.jsx)(m.$N,{children:"Rename project"}),(0,n.jsx)(m.Be,{children:(0,n.jsx)("p",{children:"Give your project a new name."})})]}),(0,n.jsx)(p.l0,{...y,children:(0,n.jsxs)("form",{onSubmit:y.handleSubmit(N),className:"flex w-full flex-col gap-4",children:[(0,n.jsx)("div",{className:"w-full space-y-4",children:(0,n.jsx)(p.Wi,{control:y.control,name:"newProjectName",render:e=>{let{field:t}=e;return(0,n.jsxs)(p.xJ,{children:[(0,n.jsx)(p.lX,{children:"Project Name"}),(0,n.jsx)(p.NI,{children:(0,n.jsx)(f.I,{placeholder:"Enter new project name",...t})}),!y.formState.errors.newProjectName&&(0,n.jsx)(p.pf,{children:"Use lowercase letters, numbers, and hyphens only. Name must start with a lowercase letter. Example: my-awesome-project"}),(0,n.jsx)(p.zG,{})]})}})}),(0,n.jsxs)(m.cN,{children:[(0,n.jsx)(u.z,{variant:"outline",onClick:c,type:"button",children:"Cancel"}),(0,n.jsx)(u.z,{type:"submit",disabled:!_||w.isPending,loading:w.isPending,children:w.isPending?"Renaming...":"Rename Project"})]})]})})]})})}},16831:function(e,t,r){"use strict";r.d(t,{F$:function(){return l},Q5:function(){return c},qE:function(){return o}});var n=r(57437),a=r(61146),s=r(2265),i=r(94508);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.fC,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});o.displayName=a.fC.displayName;let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.Ee,{ref:t,className:(0,i.cn)("aspect-square h-full w-full",r),...s})});l.displayName=a.Ee.displayName;let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.NY,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});c.displayName=a.NY.displayName},15681:function(e,t,r){"use strict";r.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return c},lX:function(){return x},pf:function(){return j},xJ:function(){return f},zG:function(){return b}});var n=r(57437),a=r(37053),s=r(2265),i=r(29501),o=r(26815),l=r(94508);let c=i.RV,d=s.createContext({}),u=e=>{let{...t}=e;return(0,n.jsx)(d.Provider,{value:{name:t.name},children:(0,n.jsx)(i.Qr,{...t})})},m=()=>{let e=s.useContext(d),t=s.useContext(p),{getFieldState:r,formState:n}=(0,i.Gc)(),a=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...a}},p=s.createContext({}),f=s.forwardRef((e,t)=>{let{className:r,...a}=e,i=s.useId();return(0,n.jsx)(p.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",r),...a})})});f.displayName="FormItem";let x=s.forwardRef((e,t)=>{let{className:r,...a}=e,{error:s,formItemId:i}=m();return(0,n.jsx)(o.Label,{ref:t,className:(0,l.cn)(s&&"",r),htmlFor:i,...a})});x.displayName="FormLabel";let h=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:i,formDescriptionId:o,formMessageId:l}=m();return(0,n.jsx)(a.g7,{ref:t,id:i,"aria-describedby":s?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!s,...r})});h.displayName="FormControl";let j=s.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:s}=m();return(0,n.jsx)("p",{ref:t,id:s,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",r),...a})});j.displayName="FormDescription";let b=s.forwardRef((e,t)=>{let{className:r,children:a,...s}=e,{error:i,formMessageId:o}=m(),c=i?String(null==i?void 0:i.message):a;return c?(0,n.jsx)("p",{ref:t,id:o,className:(0,l.cn)("text-xs font-medium text-destructive-primary",r),...s,children:c}):null});b.displayName="FormMessage"},95186:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(57437),a=r(2265),s=r(94508);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},93022:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});var n=r(57437),a=r(94508);function s(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-primary/10",t),...r})}},79858:function(e,t,r){"use strict";r.d(t,{Q:function(){return s}});var n=r(2265);let a=["brand-ocean-primary","brand-twilight-primary","brand-flamingo-primary","brand-bubblegum-primary","brand-saffron-primary","brand-tiger-primary"];function s(e){return(0,n.useMemo)(()=>{e||(e="fake-user");let t=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return Math.abs(t)}(e)%a.length;return a[t]},[e])}},76906:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});var n=r(25566);let a=e=>{let{projectId:t,projectName:r,useCacheBuster:a,sha:s}=e;if(!t&&!r)throw Error("projectId or projectName must be provided");if(t&&r)throw Error("projectId and projectName cannot both be provided");let i=n.env.NEXT_PUBLIC_PROXY_WORKER_PROTOCOL||"https",o=n.env.NEXT_PUBLIC_PROXY_WORKER_PORT?":".concat(n.env.NEXT_PUBLIC_PROXY_WORKER_PORT):"",l=s?"-".concat(s.slice(0,8)):"";try{let e=new URL("".concat(i,"://").concat(void 0!==r?"preview":"id-preview").concat(l,"--").concat(r||t,".").concat("lovable.app").concat(o));return a&&e.searchParams.set("cache",Date.now().toString()),e.toString()}catch(e){return window.location.href="/","/"}}},99803:function(e){e.exports={DotElastic:"AnimatedDots_DotElastic__JXvFf","DotElastic-before":"AnimatedDots_DotElastic-before__gaC87","DotElastic-after":"AnimatedDots_DotElastic-after__CStzD"}}}]);