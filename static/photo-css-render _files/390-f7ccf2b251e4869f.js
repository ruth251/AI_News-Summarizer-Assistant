try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="b9ea75f9-87dd-4f3d-8018-b8d240574857",e._sentryDebugIdIdentifier="sentry-dbid-b9ea75f9-87dd-4f3d-8018-b8d240574857")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{76678:function(e,s,a){a.d(s,{g:function(){return x},s:function(){return g}});var l=a(57437),r=a(2265),t=a(44956),n=a(54596),i=a(26110),o=a(41135),c=a(5103),d=a(46170),u=a(52558),p=a(61922),m=a(71759);function x(e){var s;let{dialogDescription:a}=e,r=(0,p.aS)(e=>e.currentWorkspace),t=(0,p.aS)(e=>e.hasFetchedCurrentWorkspace),n=(0,p.aS)(e=>e.memberships),{authUser:i}=(0,u.Eu)(),o=null===(s=n.find(e=>e.user_id===(null==i?void 0:i.uid)))||void 0===s?void 0:s.role;return(0,m.MD)()?(0,l.jsx)(h,{dialogDescription:a}):(0,l.jsx)(f,{hasFetchedWorkspace:t,dialogDescription:a,myWorkspaceRole:o,workspace:r,isLoggedIn:!!i})}function h(e){var s;let{dialogDescription:a}=e,{authUser:r}=(0,u.Eu)(),{projectWorkspace:t,workspaceMemberships:n}=(0,c.f)(),i=null===(s=n.find(e=>e.user_id===(null==r?void 0:r.uid)))||void 0===s?void 0:s.role,o=(0,m.hO)(e=>e.hasFetchedProjectWorkspace);return(0,l.jsx)(f,{dialogDescription:a,myWorkspaceRole:i,workspace:t,hasFetchedWorkspace:o,isLoggedIn:!!r})}function f(e){var s;let{dialogDescription:a,myWorkspaceRole:c,workspace:u,hasFetchedWorkspace:p,isLoggedIn:m}=e,x=!!u,{title:h,description:f}=(0,r.useMemo)(()=>p&&!x?{title:"Error",description:"Something went wrong."}:{title:"Upgrade required",description:a||"Upgrade to Pro and unlock more features & usage"},[p,x,a]);return(0,l.jsxs)(i.cZ,{className:"max-h-[90vh] overflow-y-auto md:max-w-3xl",size:"lg",children:[(0,l.jsxs)(i.fK,{children:[(0,l.jsx)(o.xx,{className:"mb-1 size-9 shrink-0"}),(0,l.jsx)(i.$N,{className:"text-2xl",children:m?h:"Upgrade required"}),(0,l.jsx)(i.Be,{className:"text-sm",children:m?f:a||"Upgrade to Pro and unlock more features & usage"})]}),m?p?u?(0,l.jsx)(t.om,{currentPlan:{id:u.plan,type:null!==(s=u.plan_type)&&void 0!==s?s:"monthly"},context:"outOfCredits",workspace:u,myWorkspaceRole:c,children:(0,l.jsx)(n.S,{showEnterprise:!1})}):(0,l.jsx)(g,{}):(0,l.jsx)(t._M,{}):(0,l.jsx)(t.om,{currentPlan:{id:d.tJ.FREE,type:"monthly"},context:"loggedOut",myWorkspaceRole:void 0,children:(0,l.jsx)(n.S,{showEnterprise:!1})})]})}let g=()=>(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"We couldn't load the data needed to upgrade your workspace."}),(0,l.jsxs)("p",{children:["Please refresh the page and try again. If the problem continues, contact our"," ",(0,l.jsx)("a",{href:"/support",className:"underline",children:"Support"}),"."]})]})},15492:function(e,s,a){a.d(s,{B:function(){return r}});var l=a(89651);let r=function(e){let{defaultValue:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{defaultValue:!1},[a,r]=(0,l.Z)(e,{defaultValue:s});return[a,r]}},6371:function(e,s,a){a.d(s,{_b:function(){return c},ak:function(){return d},jq:function(){return u}});var l=a(57437),r=a(2265),t=a(35974),n=a(62869),i=a(57346),o=a(94508);let c=e=>{let{name:s,price:a,description:r,children:n,popular:i=!1,highlighted:c=!1,discountPercent:d=0,hidePrice:u=!1,customPriceLabel:p}=e;return(0,l.jsxs)("div",{className:(0,o.cn)("flex h-full flex-col gap-6 rounded-xl border px-3 py-3 md:px-4 md:py-6",{"border-affirmative-primary bg-affirmative-primary/10":c}),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("p",{className:"text-lg font-medium md:text-xl",children:s}),i&&(0,l.jsx)(t.C,{variant:"brand-twilight",children:"POPULAR"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:(0,o.cn)("flex items-baseline gap-1",{invisible:u}),children:p?(0,l.jsx)("span",{className:"text-2xl font-medium md:text-3xl",children:p}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"text-2xl font-medium md:text-3xl",children:["$",Math.ceil(a*(1-d))]}),d>0&&(0,l.jsxs)("p",{className:"text-lg text-muted-foreground line-through",children:["$",a]}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"/month"})]})})}),(0,l.jsxs)("div",{className:"flex flex-grow flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-xs font-medium text-muted-foreground md:text-sm",children:r}),n]})]})},d=e=>{let{children:s,onClick:a,className:t,...i}=e,[c,d]=(0,r.useState)(!1),u=async()=>{d(!0),await (null==a?void 0:a()),d(!1)};return(0,l.jsx)(n.z,{onClick:u,...i,loading:c,className:(0,o.cn)("w-full",t),children:s})},u=e=>{let{label:s,features:a}=e;return(0,l.jsxs)("div",{className:"mt-4 flex flex-col gap-2 text-xs md:gap-4 md:text-sm",children:[(0,l.jsx)("p",{children:s}),(0,l.jsx)("ul",{className:"flex flex-col gap-2 text-xs md:gap-4 md:text-sm",children:a.map((e,s)=>(0,l.jsxs)("li",{className:"flex items-start gap-1.5 md:gap-2",children:[(0,l.jsx)(i.Z,{name:"check",size:"small",className:"relative top-[2px]"}),(0,l.jsx)("span",{className:"text-muted-foreground",children:e})]},s))})]})}},54596:function(e,s,a){a.d(s,{S:function(){return t}});var l=a(57437),r=a(44956);let t=e=>{let{className:s}=e;return(0,l.jsxs)(r.Or,{className:s,showEnterprise:!1,children:[(0,l.jsx)(r.Or.Free,{}),(0,l.jsx)(r.Or.Ktlo,{}),(0,l.jsx)(r.Or.Pro,{}),(0,l.jsx)(r.Or.Enterprise,{})]})}},44956:function(e,s,a){a.d(s,{_M:function(){return i},Or:function(){return v},om:function(){return o.om}});var l=a(57437),r=a(66070),t=a(93022),n=a(94508);let i=e=>{let{showEnterpriseCard:s=!1,className:a}=e;return(0,l.jsxs)("div",{className:(0,n.cn)("flex w-full flex-col gap-4",a),children:[(0,l.jsxs)("div",{className:"grid w-full grid-cols-1 gap-5 sm:grid-cols-3",children:[(0,l.jsxs)(r.Zb,{className:"flex h-full flex-col gap-3 px-4 py-6",children:[(0,l.jsx)(t.O,{className:"h-6 w-24"}),(0,l.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,l.jsx)(t.O,{className:"h-9 w-20"}),(0,l.jsx)(t.O,{className:"h-5 w-16"})]}),(0,l.jsx)(t.O,{className:"h-4 w-full"}),(0,l.jsx)(t.O,{className:"mb-2 h-9 w-full"}),(0,l.jsx)(t.O,{className:"h-9 w-full"}),(0,l.jsxs)("div",{className:"mt-2 flex flex-col gap-4",children:[(0,l.jsx)(t.O,{className:"h-4 w-32"}),(0,l.jsx)("div",{className:"flex flex-col gap-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(t.O,{className:"h-4 w-4"}),(0,l.jsx)(t.O,{className:"h-4 w-full"})]})})]})]}),(0,l.jsxs)(r.Zb,{className:"flex h-full flex-col gap-3 px-4 py-6",children:[(0,l.jsx)(t.O,{className:"h-6 w-24"}),(0,l.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,l.jsx)(t.O,{className:"h-9 w-20"}),(0,l.jsx)(t.O,{className:"h-5 w-16"})]}),(0,l.jsx)(t.O,{className:"h-4 w-full"}),(0,l.jsx)(t.O,{className:"mb-2 h-9 w-full"}),(0,l.jsx)(t.O,{className:"h-9 w-full"}),(0,l.jsxs)("div",{className:"mt-2 flex flex-col gap-4",children:[(0,l.jsx)(t.O,{className:"h-4 w-32"}),(0,l.jsx)("div",{className:"flex flex-col gap-4",children:[1,2,3,4,5].map(e=>(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(t.O,{className:"h-4 w-4"}),(0,l.jsx)(t.O,{className:"h-4 w-full"})]},e))})]})]}),(0,l.jsxs)(r.Zb,{className:"flex h-full flex-col gap-3 px-4 py-6",children:[(0,l.jsx)(t.O,{className:"h-6 w-24"}),(0,l.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,l.jsx)(t.O,{className:"h-9 w-20"}),(0,l.jsx)(t.O,{className:"h-5 w-16"})]}),(0,l.jsx)(t.O,{className:"h-4 w-full"}),(0,l.jsx)(t.O,{className:"mb-2 h-9 w-full"}),(0,l.jsx)(t.O,{className:"h-9 w-full"}),(0,l.jsxs)("div",{className:"mt-2 flex flex-col gap-4",children:[(0,l.jsx)(t.O,{className:"h-4 w-32"}),(0,l.jsx)("div",{className:"flex flex-col gap-4",children:[1,2,3].map(e=>(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(t.O,{className:"h-4 w-4"}),(0,l.jsx)(t.O,{className:"h-4 w-full"})]},e))})]})]})]}),s&&(0,l.jsxs)(r.Zb,{className:"flex w-full flex-col items-center justify-between gap-4 px-4 py-6 md:flex-row",children:[(0,l.jsxs)("div",{className:"flex flex-shrink flex-col gap-2",children:[(0,l.jsx)(t.O,{className:"h-6 w-32"}),(0,l.jsx)(t.O,{className:"h-4 w-64"})]}),(0,l.jsx)(t.O,{className:"h-9 w-36"})]})]})};var o=a(48581),c=a(27648),d=a(46214),u=a(6371),p=a(55721),m=a(57346);function x(e){let{options:s,selectedOption:a,onSelect:r,disabled:t=!1,disabledText:i}=e;return t?(0,l.jsx)("div",{className:"flex w-full items-center justify-between rounded-md border border-muted bg-muted px-3 py-2 text-sm text-muted-foreground",children:i||a.dropdownLabel}):(0,l.jsxs)(p.h_,{children:[(0,l.jsxs)(p.$F,{className:"flex w-full items-center justify-between rounded-md border px-3 py-2 text-sm focus:outline-none",children:[(0,l.jsx)("span",{children:a.dropdownLabel}),(0,l.jsx)(m.Z,{name:"chevron_right",className:"flex-shrink-0 rotate-90",size:"small"})]}),(0,l.jsx)(p.AW,{className:"max-h-[300px] w-[var(--radix-dropdown-menu-trigger-width)] overflow-auto",align:"start",children:s.map(e=>(0,l.jsxs)(p.Xi,{onClick:()=>r(e),className:(0,n.cn)("flex w-full cursor-pointer items-center justify-between px-3 py-2 text-sm hover:bg-brand-twilight focus:bg-brand-twilight",a.id===e.id&&"bg-brand-twilight-primary text-affirmative-primary-foreground hover:bg-brand-twilight-primary hover:text-affirmative-primary-foreground focus:bg-brand-twilight-primary focus:text-affirmative-primary-foreground"),children:[(0,l.jsx)("span",{className:"block overflow-hidden text-ellipsis whitespace-nowrap",children:e.dropdownLabel}),a.id===e.id&&(0,l.jsx)(m.Z,{name:"check",size:"small",className:"ml-2 flex-shrink-0"})]},e.id))})]})}var h=a(62869),f=a(78276),g=a(81103),j=a(27132),N=a(49284),w=a(48351),b=a(46170);let v=e=>{let{children:s,className:a}=e,r=(0,o.tS)();return(0,l.jsx)("div",{className:"flex w-full flex-col gap-4",children:(0,l.jsx)("div",{className:(0,n.cn)("mx-auto grid grid-cols-1 gap-5",a),style:{gridTemplateColumns:"repeat(".concat(r.numberOfPlansShown,", 1fr)")},children:s})})};v.Free=()=>{let e=(0,o.tS)(),s=(0,j.Z)("md");return e.showFreePlan?(0,l.jsx)("div",{className:"h-full",children:(0,l.jsxs)(u._b,{name:"Free",price:0,description:"For getting started",children:[!e.isLoggedOut&&(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(x,{options:[],selectedOption:e.selectedProPlan,onSelect:()=>{},disabled:!0,disabledText:s?(0,l.jsx)("span",{children:"5 daily credits *"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"5 daily credits"}),(0,l.jsxs)(g.u,{children:[(0,l.jsx)(g.aJ,{children:(0,l.jsx)(m.Z,{name:"info",className:"h-4 w-4 text-muted-foreground"})}),(0,l.jsxs)(g._v,{className:"max-w-[25ch]",children:["Up to a maximum of ",b.dv," ","credits per month."]})]})]})})}),!e.isFreePlan&&(0,l.jsx)(f.b,{showTooltip:e.shouldDisableWorkspaceAdminActions,tooltipContent:"You need to be a workspace admin to manage plans",children:(0,l.jsx)(u.ak,{onClick:()=>{var s;d.ZP.capture(N.Fi.PLAN_DOWNGRADE_CLICKED,{current_plan:e.currentPlan,target_plan:"free",plan_type:"free"}),e.setFreePlanAsTarget(),null===(s=e.onDowngradeClick)||void 0===s||s.call(e)},disabled:e.isFreePlan||e.isEnterprisePlan||e.shouldDisableWorkspaceAdminActions||e.isInactivePlan||e.isLoggedOut,variant:e.freePlanButtonVariant,loading:e.isCreatePortalSessionLoading,children:e.isFreePlan?"Your current plan":e.isInactivePlan?"Only for first workspace":e.isEnterprisePlan?"Downgrade (Contact us)":"Downgrade"})}),e.isLoggedOut&&(0,l.jsx)(h.z,{variant:e.freePlanButtonVariant,asChild:!0,onClick:()=>{d.ZP.capture(N.Fi.GET_STARTED_CLICKED,{plan_type:"free",user_status:"logged_out"})},children:(0,l.jsx)(c.default,{href:"/signup",passHref:!0,children:"Get started"})}),(0,l.jsx)(u.jq,{label:"Get started with:",features:["Public projects","Up to 20 collaborators"]}),(0,l.jsxs)("p",{className:"mt-8 flex text-xs text-muted-foreground sm:mt-auto md:hidden",children:["* Up to a maximum of ",b.dv," credits per month"]})]})}):null},v.Ktlo=()=>{let e=(0,o.tS)();if(!e.showKtloPlan)return null;let s="ktlo"===e.currentPlan.id;return(0,l.jsx)("div",{className:"h-full",children:(0,l.jsxs)(u._b,{name:"Lite",price:15,description:"Maintain your projects",popular:!1,children:[(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(x,{options:[],selectedOption:e.selectedProPlan,onSelect:()=>{},disabled:!0,disabledText:"30 credits / month (5 daily)"})}),e.isLoggedOut?(0,l.jsx)(h.z,{variant:"twilight",asChild:!0,onClick:()=>{d.ZP.capture(N.Fi.GET_STARTED_CLICKED,{plan_type:"ktlo",plan_price:15,user_status:"logged_out"})},children:(0,l.jsx)(c.default,{href:"/signup",passHref:!0,children:"Get Started"})}):(0,l.jsx)(f.b,{showTooltip:e.shouldDisableWorkspaceAdminActions,tooltipContent:"You need to be a workspace admin to manage plans",children:(0,l.jsx)(u.ak,{onClick:()=>{var s;if(!(null===(s=w._I[w.It.KTLO])||void 0===s?void 0:s.PRODUCT_ID)){console.error("KTLO product ID not found");return}let a={id:w.It.KTLO,annualPrice:15,monthlyPrice:15,monthlyLookupKey:"ktlo",quantity:1,limit:30,name:"Lite",canManagePlan:!0};d.ZP.capture(N.Fi.PLAN_UPGRADE_CLICKED,{current_plan:e.currentPlan,target_plan:"ktlo",plan_type:"ktlo",plan_price:15}),e.handleUpgrade(a)},variant:s?"ghost":"twilight",disabled:s||e.shouldDisableWorkspaceAdminActions,children:s?"Your current plan":"Switch to KTLO"})}),(0,l.jsx)(u.jq,{label:"You'll keep:",features:["Private project access","Roles & permissions","Custom domain","No Lovable badge"]})]})})},v.Pro=()=>{let e=(0,o.tS)();if(!e.showProPlan)return null;let s=e.allPlanOptions.filter(e=>"string"==typeof e.id&&e.id.includes(b.$k));return(0,l.jsx)("div",{className:(0,n.cn)("h-full",!e.showFreePlan&&"md:w-full md:min-w-0 md:max-w-[310px] md:flex-shrink"),children:(0,l.jsxs)(u._b,{name:"Pro",price:e.getDisplayPrice(e.selectedProPlan),description:"For more projects and usage",popular:!0,discountPercent:e.discountPercent,children:[e.showProDropdown&&s.length>0&&(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(x,{options:s,selectedOption:e.selectedProPlan,disabled:e.shouldDisableWorkspaceAdminActions,onSelect:s=>{d.ZP.capture(N.Fi.PLAN_DROPDOWN_CHANGED,{plan_type:"pro",previous_plan:e.selectedProPlan.id,selected_plan:s.id,current_plan:e.currentPlan}),e.setSelectedProPlan(s)}})}),e.isLoggedOut?(0,l.jsx)(h.z,{variant:e.proPlanButtonVariant,asChild:!0,onClick:()=>{d.ZP.capture(N.Fi.GET_STARTED_CLICKED,{plan_type:"pro",plan_id:e.selectedProPlan.id,plan_price:e.getDisplayPrice(e.selectedProPlan),user_status:"logged_out"}),e.handleLoggedOutUpgrade(e.selectedProPlan)},children:(0,l.jsx)(c.default,{href:"/signup",passHref:!0,children:"Get Started"})}):(0,l.jsx)(f.b,{showTooltip:e.shouldDisableWorkspaceAdminActions,tooltipContent:"You need to be a workspace admin to manage plans",children:(0,l.jsx)(u.ak,{onClick:()=>{if(e.isPlanDowngrade(e.selectedProPlan.id)){var s;d.ZP.capture(N.Fi.PLAN_DOWNGRADE_CLICKED,{current_plan:e.currentPlan,target_plan:e.selectedProPlan.id,plan_type:"pro",plan_price:e.getDisplayPrice(e.selectedProPlan)}),e.setTargetDowngradePlan(e.selectedProPlan),null===(s=e.onDowngradeClick)||void 0===s||s.call(e)}else d.ZP.capture(N.Fi.PLAN_UPGRADE_CLICKED,{current_plan:e.currentPlan,target_plan:e.selectedProPlan.id,plan_type:"pro",plan_price:e.getDisplayPrice(e.selectedProPlan)}),e.handleUpgrade(e.selectedProPlan)},variant:e.proPlanButtonVariant,disabled:e.selectedProPlan.id===e.currentPlan.id||e.isEnterprisePlan||e.shouldDisableWorkspaceAdminActions,children:e.getButtonText({selectedPlanId:e.selectedProPlan.id,planOptions:e.allPlanOptions,currentPlan:e.currentPlan,isFreePlan:e.isFreePlan})})}),(0,l.jsx)(u.jq,{label:"Everything in Free, plus:",features:[(0,l.jsxs)("span",{className:"flex items-center gap-1",children:["Up to ",e.selectedProPlan.limit+150," credits / month",(0,l.jsxs)(g.u,{children:[(0,l.jsx)(g.aJ,{children:(0,l.jsx)(m.Z,{name:"info",className:"h-4 w-4 text-muted-foreground"})}),(0,l.jsx)(g._v,{className:"max-w-[25ch]",children:(0,l.jsxs)("p",{children:[e.selectedProPlan.limit," credits per month + 5 daily credits that reset each day"]})})]})]},"num-credits"),"Private projects","Remove the Lovable badge","Custom domains","Role based access"]})]})})},v.Enterprise=()=>{let e=(0,o.tS)();return e.showEnterprisePlan?(0,l.jsx)("div",{className:(0,n.cn)("h-full",!e.showFreePlan&&"md:w-full md:min-w-0 md:max-w-[310px] md:flex-shrink"),children:(0,l.jsxs)(u._b,{name:"Enterprise",price:0,description:"For custom needs",discountPercent:e.discountPercent,hidePrice:!1,customPriceLabel:"Custom",children:[e.isLoggedOut?(0,l.jsx)(h.z,{variant:e.proPlanButtonVariant,asChild:!0,onClick:()=>{d.ZP.capture(N.Fi.GET_STARTED_CLICKED,{plan_type:"enterprise",user_status:"logged_out"})},children:(0,l.jsx)(c.default,{href:"https://enterpriseform.lovable.app/",passHref:!0,children:"Contact us"})}):(0,l.jsx)(f.b,{showTooltip:e.shouldDisableWorkspaceAdminActions,tooltipContent:"You need to be a workspace admin to manage plans",children:e.isEnterprisePlan?(0,l.jsx)(u.ak,{variant:"ghost",disabled:!0,children:"Your current plan"}):(0,l.jsx)(h.z,{variant:"twilight",asChild:!0,className:"w-full whitespace-nowrap",onClick:()=>{d.ZP.capture(N.Fi.CONTACT_US_CLICKED,{plan_type:"enterprise",current_plan:e.currentPlan,user_status:"logged_in"})},children:(0,l.jsx)(c.default,{target:"_blank",href:"https://enterpriseform.lovable.app/",children:"Contact us"})})}),(0,l.jsx)(u.jq,{label:"Everything in Pro, plus:",features:["Dedicated support","Custom integrations","SSO","Opt out of data training"]})]})}):null}},56922:function(e,s,a){a.d(s,{D:function(){return i},e:function(){return n}});var l=a(57437),r=a(2265);let t=(0,r.createContext)({setSelectedProject:()=>{},setOpen:()=>{}}),n=()=>{let e=(0,r.useContext)(t);if(!e)throw Error("useSupabaseConnectMenuContext must be used within a SupabaseConnectMenuContext");return e},i=e=>{let{children:s,setSelectedProject:a,setOpen:r}=e;return(0,l.jsx)(t.Provider,{value:{setSelectedProject:a,setOpen:r},children:s})}},22876:function(e,s,a){a.d(s,{K:function(){return p}});var l=a(57437),r=a(27648),t=a(2265),n=a(23518),i=a(78276),o=a(55721),c=a(57346),d=a(56922),u=a(27559);let p=e=>{var s;let{organization:a}=e;return(0,l.jsxs)(o.Ph,{children:[(0,l.jsx)(o.kt,{className:"text-sm",children:(0,l.jsx)("span",{className:"truncate",children:a.name})}),(0,l.jsxs)(o.TG,{className:"w-56 p-0",children:[(0,l.jsxs)(n.mY,{children:[(0,l.jsx)(n.sZ,{placeholder:"Search projects...",autoFocus:!0}),(0,l.jsxs)(n.e8,{className:"max-h-60 scrollbar-thin scrollbar-thumb-muted-foreground/20",children:[(0,l.jsx)(n.rb,{children:"No projects found."}),(0,l.jsx)(n.fu,{children:null===(s=a.projects)||void 0===s?void 0:s.map(e=>(0,l.jsx)(m,{project:e},e.id))})]})]}),(0,l.jsx)(o.VD,{className:"mt-0"}),(0,l.jsx)("div",{className:"px-1 pb-1",children:(0,l.jsx)(o.Xi,{asChild:!0,children:(0,l.jsxs)(r.default,{href:"https://supabase.com/dashboard/new/".concat(a.id),target:"_blank",rel:"noopener noreferrer",className:"flex w-full items-center gap-2",children:[(0,l.jsx)(c.Z,{name:"add",size:"small"}),"Create project",(0,l.jsx)(c.Z,{name:"arrow_outward",size:"small",className:"ml-auto"})]})})})]})]},a.id)},m=e=>{let{project:s}=e,a=(0,u.u)(s),{setSelectedProject:r,setOpen:o}=(0,d.e)(),p=(0,t.useCallback)(()=>{r(s),o(!1)},[s,r,o]);return(0,l.jsx)(i.b,{showTooltip:!a,side:"left",tooltipContent:"Check project status in Supabase.",children:(0,l.jsxs)(n.di,{onSelect:p,disabled:!a,className:"group flex w-full items-center",value:s.name,children:[(0,l.jsx)("span",{className:"truncate",children:s.name}),!a&&(0,l.jsx)(c.Z,{name:"warning_fill",size:"small",className:"ml-auto text-destructive-primary"})]},s.id)})}},27559:function(e,s,a){a.d(s,{u:function(){return r}});var l=a(22853);let r=e=>e.status===l.k.ACTIVE_HEALTHY},2124:function(e,s,a){a.d(s,{F:function(){return h}});var l=a(57437),r=a(76678),t=a(60256),n=a(88391),i=a(3813),o=a(94508),c=a(55157),d=a(35974),u=a(57346),p=a(26815),m=a(74991),x=a(81103);let h=e=>{let{visibility:s,setVisibility:a,onClick:h,disabled:f,className:g,customPrivateDescription:j,customPublicDescription:N,redirectToSubscription:w=!1,workspacePlan:b}=e,v=(0,i.sp)(),P=(0,t.dF)({workspacePlan:b}),_=(0,n.z)(r.g),{openSettings:y}=(0,c.r)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(m.E,{className:g,disabled:f,defaultValue:"public",value:s,onValueChange:e=>{a(e)},children:[(0,l.jsxs)("div",{className:"flex items-start gap-2 px-4 py-2",children:[(0,l.jsx)(m.m,{value:"public",id:"public",onClick:()=>{null==h||h()}}),(0,l.jsxs)(p.Label,{htmlFor:"public",className:(0,o.cn)("flex w-full cursor-pointer flex-col gap-0.5"),children:[(0,l.jsx)("div",{className:"flex items-center gap-1 text-sm font-medium leading-tight",children:"Public"}),N||(0,l.jsx)("span",{className:"font-normal leading-normal text-muted-foreground",children:"Anyone can view and remix"})]})]}),(0,l.jsxs)("div",{className:"flex w-full items-start gap-2 px-4 py-2",children:[(0,l.jsx)(m.m,{value:"private",id:"private",onClick:e=>{P?null==h||h():(e.preventDefault(),w?y("billing"):_({childProps:{dialogDescription:"You need to be on a team plan to make your project shared with workspace."}}))}}),(0,l.jsxs)(p.Label,{htmlFor:"private",className:"flex w-full cursor-pointer flex-col gap-0.5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium leading-tight",children:["Workspace",(0,l.jsx)(d.C,{variant:"affirmative",children:"Pro"})]}),j||(0,l.jsx)("span",{className:"font-normal leading-normal text-muted-foreground",children:"Only visible to members of the workspace"})]})]}),!!v&&(0,l.jsxs)("div",{className:"flex w-full items-start gap-2 px-4 py-2",children:[(0,l.jsx)(m.m,{value:"draft",id:"draft",onClick:e=>{P?null==h||h():(e.preventDefault(),w?y("billing"):_({childProps:{dialogDescription:"You need to be on a pro plan to make your project private."}}))}}),(0,l.jsxs)(p.Label,{htmlFor:"draft",className:"flex w-full cursor-pointer flex-col gap-0.5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium leading-tight",children:["Draft",(0,l.jsx)(d.C,{variant:"affirmative",children:"Pro"})]}),j||(0,l.jsxs)("p",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"font-normal leading-normal text-muted-foreground",children:"Build and deploy in private."}),(0,l.jsxs)(x.u,{children:[(0,l.jsx)(x.aJ,{children:(0,l.jsx)(u.Z,{name:"info",size:"small"})}),(0,l.jsx)(x._v,{children:(0,l.jsx)("p",{children:"Only you and workspace admins can see this project."})})]})]})]})]})]})})}},66070:function(e,s,a){a.d(s,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return n},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var l=a(57437),r=a(2265),t=a(94508);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col gap-6 rounded-lg border bg-card p-6 text-primary shadow-sm",a),...r})});n.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("font-medium leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("gap-6 pt-0",a),...r})});d.displayName="CardContent";let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("flex items-center pt-0",a),...r})});u.displayName="CardFooter"},5103:function(e,s,a){a.d(s,{f:function(){return t}});var l=a(52558),r=a(71759);function t(){let{authUser:e}=(0,l.Eu)(),s=(0,r.hO)(e=>e.projectWorkspace),a=(0,r.hO)(e=>e.memberships);return{projectWorkspace:s,isMemberOfWorkspace:a.some(s=>s.user_id===(null==e?void 0:e.uid)),workspaceMemberships:a}}},78844:function(e,s,a){a.d(s,{Ef:function(){return u},YP:function(){return c},hb:function(){return p},i6:function(){return d}});var l=a(2265),r=a(14438),t=a(91115),n=a(60256),i=a(21288),o=a(25566);let c="supabaseOAuthNonce",d="supabaseOAuthCodeVerifier",u=t.z.object({workspaceId:t.z.string(),userId:t.z.string().optional(),nonce:t.z.string()}),p=e=>{let[s,a]=(0,l.useState)(!1),{userData:t}=(0,n.SE)();return{handleConnect:(0,l.useCallback)(async()=>{a(!0);try{let s=window.location.origin,l=crypto.randomUUID();try{localStorage.setItem(c,l)}catch(e){i.logging.error("Error storing nonce in localStorage:",{error:e}),r.Am.error("Failed to initiate Supabase OAuth flow",{description:"Try clearing browser local storage and try again."}),a(!1);return}let n=btoa(JSON.stringify({workspaceId:e,userId:null==t?void 0:t.id,nonce:l})),u=o.env.NEXT_PUBLIC_SUPABASE_OAUTH_CLIENT_ID||"dbd565fc-4637-4cb6-ab68-0af4b5708417",p=function(){let e=new Uint8Array(32);return crypto.getRandomValues(e),btoa(String.fromCharCode.apply(null,Array.from(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}(),x=await m(p);localStorage.setItem(d,p);let h="https://api.supabase.com/v1/oauth/authorize?response_type=code"+"&client_id=".concat(u)+"&redirect_uri=".concat(encodeURIComponent("".concat(s,"/supabase/callback")))+"&state=".concat(encodeURIComponent(n))+"&code_challenge=".concat(encodeURIComponent(x))+"&code_challenge_method=S256",f=window.open(h,"_blank","width=600,height=700,left=100,top=100");f?f.focus():window.location.href=h}catch(e){i.logging.error("Error initiating Supabase connection:",{error:e}),r.Am.error("Connection Error",{description:"An error occurred while connecting to Supabase. Please try again."})}finally{a(!1)}},[e,null==t?void 0:t.id]),isConnecting:s}};async function m(e){let s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s);return btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(a)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},22853:function(e,s,a){var l,r;a.d(s,{k:function(){return l}}),(r=l||(l={})).ACTIVE_HEALTHY="ACTIVE_HEALTHY",r.ACTIVE_UNHEALTHY="ACTIVE_UNHEALTHY",r.COMING_UP="COMING_UP",r.GOING_DOWN="GOING_DOWN",r.INACTIVE="INACTIVE",r.INIT_FAILED="INIT_FAILED",r.REMOVED="REMOVED",r.RESTARTING="RESTARTING",r.UNKNOWN="UNKNOWN",r.UPGRADING="UPGRADING",r.PAUSING="PAUSING",r.RESTORING="RESTORING",r.RESTORE_FAILED="RESTORE_FAILED",r.PAUSE_FAILED="PAUSE_FAILED"}}]);