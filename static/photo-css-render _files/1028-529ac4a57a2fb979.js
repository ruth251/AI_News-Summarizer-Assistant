try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0bc6855f-62c5-4dec-8514-abb3a4df0bfc",e._sentryDebugIdIdentifier="sentry-dbid-0bc6855f-62c5-4dec-8514-abb3a4df0bfc")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1028],{26438:function(e,t,n){n.d(t,{v:function(){return p}});var r=n(21770),a=n(46214),i=n(2265),s=n(60256),o=n(90045),c=n(64040),l=n(49131),d=n(49284),u=n(3813);let p=()=>{let e=(0,u.zq)(),t=(0,l.SJ)(),{userData:n}=(0,s.SE)(),p=n&&"disable_agent_mode"in n&&!1===n.disable_agent_mode,h=(0,o.hT)(e=>e.chatMode===o.jE.AGENT),f=(0,o.hT)(e=>e.chatMode===o.jE.CHAT_ONLY),{setChatMode:m}=(0,o.VK)();(0,i.useEffect)(()=>{p&&e&&!f&&m(o.jE.AGENT)},[p,e,f,m]);let{mutate:g}=(0,r.D)({onError:()=>{(0,c.Eo)("Error saving agent mode setting")},onMutate:e=>{e?m(o.jE.AGENT):m(o.jE.DEFAULT)},mutationFn:async e=>{if(!n)throw Error("Error setting agent mode");a.ZP.capture(d.SL.SETTINGS.AGENT_MODE_DISABLED,{agent_mode_disabled:!e}),await t.put("/user/".concat(n.id),{disable_agent_mode:!e})}});return{agentModeEnabled:e&&h,isAgentModeDefault:e&&p,setAgentMode:g}}},87751:function(e,t,n){n.d(t,{s:function(){return c}});var r=n(57437),a=n(27648),i=n(62869),s=n(26110),o=n(57346);let c=e=>{let{isOpen:t,onDismiss:n=()=>{},onConfirm:c=()=>{}}=e;return(0,r.jsx)(s.Vq,{open:t,onOpenChange:e=>!e&&n(),children:(0,r.jsxs)(s.cZ,{children:[(0,r.jsx)(s.fK,{children:(0,r.jsx)(s.$N,{children:"Are you sure you want to send this message?"})}),(0,r.jsx)(s.Be,{children:"We detected API keys in your message. For security, ask Lovable to manage your secrets instead of including them directly."}),(0,r.jsxs)(s.cN,{children:[(0,r.jsx)(i.z,{variant:"outline",children:(0,r.jsxs)(a.default,{href:"https://docs.lovable.dev/features/security",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 overflow-hidden text-ellipsis whitespace-nowrap",children:[(0,r.jsx)("span",{className:"truncate",children:"Learn more"}),(0,r.jsx)(o.Z,{name:"arrow_outward"})]})}),(0,r.jsx)(i.z,{variant:"outline",onClick:c,children:(0,r.jsx)("span",{className:"truncate",children:"Send anyway"})}),(0,r.jsx)(i.z,{variant:"affirmative",onClick:n,children:"Got it"})]})]})})}},57492:function(e,t,n){n.d(t,{Go:function(){return i},su:function(){return a}});let r=[{name:"OpenAI API Key",pattern:/sk-[a-zA-Z0-9]{48}/,description:"OpenAI API keys start with 'sk-'",confidence:"high"},{name:"OpenAI API Key (New Format)",pattern:/sk-[A-Za-z0-9]{20}T3BlbkFJ[A-Za-z0-9]{20}/,description:"OpenAI API keys with T3BlbkFJ pattern",confidence:"high"},{name:"OpenAI Project API Key",pattern:/sk-proj-[A-Za-z0-9\-_]{20,}/,description:"OpenAI project-specific API keys",confidence:"high"},{name:"Anthropic API Key",pattern:/sk-ant-[a-zA-Z0-9]+/,description:"Anthropic API keys start with 'sk-ant-'",confidence:"high"},{name:"AWS Access Key ID",pattern:/AKIA[0-9A-Z]{16}/,description:"AWS Access Key IDs start with 'AKIA'",confidence:"high"},{name:"AWS Access Key ID (Extended)",pattern:/(A3T[A-Z0-9]|AKIA|AGPA|AIDA|AROA|AIPA|ANPA|ANVA|ASIA)[A-Z0-9]{16}/,description:"AWS Access Key IDs with various prefixes",confidence:"high"},{name:"AWS Secret Access Key",pattern:/[a-zA-Z0-9\/\+]{40}/,description:"AWS Secret Access Keys are 40 characters long",confidence:"medium"},{name:"AWS Secret Access Key (Context)",pattern:/aws(.{0,20})?['"][0-9a-zA-Z\/+]{40}['"]/i,description:"AWS Secret Access Keys with context",confidence:"high"},{name:"AWS MWS Token",pattern:/amzn\.mws\.[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/,description:"Amazon MWS Auth Token",confidence:"high"},{name:"GitHub Personal Access Token",pattern:/ghp_[a-zA-Z0-9]{36}/,description:"GitHub personal access tokens start with 'ghp_'",confidence:"high"},{name:"GitHub OAuth Access Token",pattern:/gho_[a-zA-Z0-9]{36}/,description:"GitHub OAuth tokens start with 'gho_'",confidence:"high"},{name:"GitHub User Access Token",pattern:/ghu_[a-zA-Z0-9]{36}/,description:"GitHub user access tokens start with 'ghu_'",confidence:"high"},{name:"GitHub App Installation Access Token",pattern:/ghs_[a-zA-Z0-9]{36}/,description:"GitHub App tokens start with 'ghs_'",confidence:"high"},{name:"GitHub Refresh Token",pattern:/ghr_[a-zA-Z0-9]{36}/,description:"GitHub refresh tokens start with 'ghr_'",confidence:"high"},{name:"GitHub Fine-grained Personal Access Token",pattern:/github_pat_[a-zA-Z0-9]{22}_[a-zA-Z0-9]{59}/,description:"GitHub fine-grained PATs start with 'github_pat_'",confidence:"high"},{name:"Google API Key",pattern:/AIza[0-9A-Za-z\-_]{35}/,description:"Google API keys start with 'AIza'",confidence:"medium"},{name:"Google OAuth Access Token",pattern:/ya29\.[0-9A-Za-z\-_]+/,description:"Google OAuth access tokens start with 'ya29.'",confidence:"high"},{name:"Google OAuth Client ID",pattern:/[0-9]+-[0-9A-Za-z_]{32}\.apps\.googleusercontent\.com/,description:"Google OAuth client IDs",confidence:"high"},{name:"Google Service Account",pattern:/"type":\s*"service_account"/,description:"Google service account JSON key file",confidence:"high"},{name:"Firebase URL",pattern:/.*firebaseio\.com/,description:"Firebase database URLs",confidence:"medium"},{name:"Stripe Live API Key",pattern:/sk_live_[0-9a-zA-Z]{24,}/,description:"Stripe live API keys start with 'sk_live_'",confidence:"high"},{name:"Stripe Test API Key",pattern:/sk_test_[0-9a-zA-Z]{24,}/,description:"Stripe test API keys start with 'sk_test_'",confidence:"high"},{name:"Stripe Restricted API Key",pattern:/rk_live_[0-9a-zA-Z]{24,}/,description:"Stripe restricted API keys start with 'rk_live_'",confidence:"high"},{name:"Square Access Token",pattern:/sq0atp-[0-9A-Za-z\-_]{22}/,description:"Square access tokens start with 'sq0atp-'",confidence:"high"},{name:"Square OAuth Secret",pattern:/sq0csp-[0-9A-Za-z\-_]{43}/,description:"Square OAuth secrets start with 'sq0csp-'",confidence:"high"},{name:"Square Application ID",pattern:/sq0i[a-z]{2}-[0-9A-Za-z\-_]{22,43}/,description:"Square application IDs",confidence:"high"},{name:"SendGrid API Key",pattern:/SG\.[a-zA-Z0-9]{22}\.[a-zA-Z0-9]{43}/,description:"SendGrid API keys start with 'SG.'",confidence:"high"},{name:"Twilio Account SID",pattern:/AC[a-z0-9]{32}/,description:"Twilio Account SIDs start with 'AC'",confidence:"high"},{name:"Twilio Auth Token",pattern:/SK[a-z0-9A-F]{32}/,description:"Twilio Auth tokens start with 'SK'",confidence:"high"},{name:"Slack Token",pattern:/xox[baprs]-[0-9]{10,13}-[0-9]{10,13}-[a-zA-Z0-9]{24,34}/,description:"Slack tokens start with 'xoxb-', 'xoxa-', 'xoxp-', 'xoxr-', or 'xoxs-'",confidence:"high"},{name:"Slack Extended Token",pattern:/xoxe\.xoxp-1-[0-9a-zA-Z]{166}/,description:"Slack extended tokens",confidence:"high"},{name:"Slack Workspace Token",pattern:/xoxe-1-[0-9a-zA-Z]{147}/,description:"Slack workspace tokens",confidence:"high"},{name:"Slack Webhook",pattern:/https:\/\/hooks\.slack\.com\/services\/T[a-zA-Z0-9_]{8}\/B[a-zA-Z0-9_]{8}\/[a-zA-Z0-9_]{24}/,description:"Slack webhook URLs",confidence:"high"},{name:"Discord Bot Token",pattern:/[MN][a-zA-Z0-9]{23}\.[a-zA-Z0-9]{6}\.[a-zA-Z0-9_-]{27}/,description:"Discord bot tokens have a specific format",confidence:"high"},{name:"NPM Access Token",pattern:/npm_[a-zA-Z0-9]{36}/,description:"NPM access tokens start with 'npm_'",confidence:"high"},{name:"Facebook Access Token",pattern:/EAACEdEose0cBA[0-9A-Za-z]+/,description:"Facebook access tokens",confidence:"high"},{name:"Facebook OAuth",pattern:/[f|F][a|A][c|C][e|E][b|B][o|O][o|O][k|K].*['"][0-9a-f]{32}['"]/,description:"Facebook OAuth tokens",confidence:"high"},{name:"Twitter Access Token",pattern:/[t|T][w|W][i|I][t|T][t|T][e|E][r|R].*[1-9][0-9]+-[0-9a-zA-Z]{40}/,description:"Twitter access tokens",confidence:"high"},{name:"Twitter OAuth",pattern:/[t|T][w|W][i|I][t|T][t|T][e|E][r|R].*['"][0-9a-zA-Z]{35,44}['"]/,description:"Twitter OAuth tokens",confidence:"high"},{name:"Heroku API Key",pattern:/[h|H][e|E][r|R][o|O][k|K][u|U].*[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}/,description:"Heroku API keys",confidence:"high"},{name:"MailChimp API Key",pattern:/[0-9a-f]{32}-us[0-9]{1,2}/,description:"MailChimp API keys",confidence:"high"},{name:"Mailgun API Key",pattern:/key-[0-9a-zA-Z]{32}/,description:"Mailgun API keys start with 'key-'",confidence:"high"},{name:"PayPal Braintree Access Token",pattern:/access_token\$production\$[0-9a-z]{16}\$[0-9a-f]{32}/,description:"PayPal Braintree access tokens",confidence:"high"},{name:"Cloudinary URL",pattern:/cloudinary:\/\/.*/,description:"Cloudinary configuration URLs",confidence:"high"},{name:"WakaTime API Key",pattern:/waka_[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/,description:"WakaTime API keys",confidence:"high"},{name:"Picatic API Key",pattern:/sk_live_[0-9a-z]{32}/,description:"Picatic API keys (similar to Stripe format)",confidence:"medium"},{name:"JWT Token",pattern:/eyJ[A-Za-z0-9_\/+-]*\.[A-Za-z0-9_\/+-]*\.[A-Za-z0-9_\/+-]*/,description:"JSON Web Tokens (JWT)",confidence:"medium"},{name:"RSA Private Key",pattern:/-----BEGIN RSA PRIVATE KEY-----/,description:"RSA private key headers",confidence:"high"},{name:"DSA Private Key",pattern:/-----BEGIN DSA PRIVATE KEY-----/,description:"DSA private key headers",confidence:"high"},{name:"EC Private Key",pattern:/-----BEGIN EC PRIVATE KEY-----/,description:"Elliptic Curve private key headers",confidence:"high"},{name:"PGP Private Key",pattern:/-----BEGIN PGP PRIVATE KEY BLOCK-----/,description:"PGP private key blocks",confidence:"high"},{name:"Database Password in URL",pattern:/[a-zA-Z]{3,10}:\/\/[^\/\s:@]{3,20}:[^\/\s:@]{3,20}@.{1,100}["'\s]/,description:"Database connection strings with embedded passwords",confidence:"high"},{name:"Generic API Key",pattern:/(api[_-]?key|apikey)(.{0,20})?['"][0-9a-zA-Z]{32,45}['"]/i,description:"Generic API key pattern with quotes",confidence:"medium"},{name:"Generic Secret Key",pattern:/(secret[_-]?key|client[_-]?secret|private[_-]?key|service[_-]?role[_-]?key|password|auth[_-]?token)[\s:=]+['"]?([a-zA-Z0-9_\-\.\/\+=]{20,})['"]?/i,description:"Generic secret key pattern",confidence:"medium"},{name:"Generic Token",pattern:/token[_-]?[a-z0-9]*['"]?\s*[:=]\s*['"]?[a-zA-Z0-9_\-\.\/\+=]{10,}['"]?/i,description:"Generic token pattern",confidence:"low"},{name:"High Entropy String",pattern:/['"][a-zA-Z0-9\/\+]{40,}['"](?:\s*[,;]|\s*$)/,description:"High entropy strings that might be secrets",confidence:"low"},{name:"Linear API Key",pattern:/lin_api_[a-zA-Z0-9]{40}/,description:"Linear personal API keys start with 'lin_api_'",confidence:"high"},{name:"Render API Key",pattern:/rnd_[a-zA-Z0-9]{32}/,description:"Render API keys start with 'rnd_'",confidence:"high"},{name:"Fly.io API Token",pattern:/fo1_[a-zA-Z0-9]{43}/,description:"Fly.io personal access tokens start with 'fo1_'",confidence:"high"},{name:"Groq API Key",pattern:/gsk_[a-zA-Z0-9]{52}/,description:"Groq API keys start with 'gsk_'",confidence:"high"},{name:"Cohere API Key",pattern:/[a-zA-Z0-9]{40}-[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}/,description:"Cohere API keys have specific format with dashes",confidence:"high"},{name:"Mistral AI API Key",pattern:/[a-zA-Z0-9]{32}/,description:"Mistral AI API keys are 32 character strings",confidence:"low"},{name:"Perplexity API Key",pattern:/pplx-[a-f0-9]{64}/,description:"Perplexity API keys start with 'pplx-'",confidence:"high"},{name:"DeepSeek API Key",pattern:/sk-[a-f0-9]{48}/,description:"DeepSeek API keys start with 'sk-' and are 48 hex chars",confidence:"medium"},{name:"xAI API Key",pattern:/xai-[a-zA-Z0-9]{64}/,description:"xAI API keys start with 'xai-'",confidence:"high"},{name:"Hugging Face User Access Token",pattern:/hf_[a-zA-Z0-9]{37}/,description:"Hugging Face user access tokens start with 'hf_'",confidence:"high"},{name:"Pinecone API Key",pattern:/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/,description:"Pinecone API keys are UUID format",confidence:"medium"},{name:"MongoDB Atlas API Key",pattern:/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/,description:"MongoDB Atlas API keys are UUID format",confidence:"medium"},{name:"Redis Cloud API Key",pattern:/redis-cloud-[a-zA-Z0-9]{32}/,description:"Redis Cloud API keys start with 'redis-cloud-'",confidence:"high"},{name:"Shopify Private App Token",pattern:/shppa_[a-f0-9]{64}/,description:"Shopify private app tokens start with 'shppa_'",confidence:"high"},{name:"Shopify Custom App Token",pattern:/shpca_[a-f0-9]{64}/,description:"Shopify custom app tokens start with 'shpca_'",confidence:"high"},{name:"Vercel API Token",pattern:/(vercel_|vc_)[a-zA-Z0-9]{24}/,description:"Vercel API tokens start with 'vercel_' or 'vc_'",confidence:"high"},{name:"PlanetScale Service Token",pattern:/pscale_tkn_[a-zA-Z0-9_-]{43}/,description:"PlanetScale service tokens start with 'pscale_tkn_'",confidence:"high"},{name:"PlanetScale OAuth Token",pattern:/pscale_oauth_[a-zA-Z0-9_-]{43}/,description:"PlanetScale OAuth tokens start with 'pscale_oauth_'",confidence:"high"},{name:"Azure Service Bus Connection String",pattern:/Endpoint=sb:\/\/[^;]+;SharedAccessKeyName=[^;]+;SharedAccessKey=[a-zA-Z0-9\/\+=]{44}/,description:"Azure Service Bus connection strings",confidence:"high"},{name:"Azure Storage Account Key",pattern:/[a-zA-Z0-9\/\+]{88}==/,description:"Azure Storage account keys are 88 chars base64 with ==",confidence:"medium"},{name:"Google Gemini API Key",pattern:/AIza[0-9A-Za-z\-_]{35}/,description:"Google Gemini API keys start with 'AIza' (same as Google API)",confidence:"medium"},{name:"Supabase Anon Key",pattern:/eyJ[A-Za-z0-9_\/+-]*\.eyJ[A-Za-z0-9_\/+-]*\."anon"[A-Za-z0-9_\/+-]*\.[A-Za-z0-9_\/+-]*/,description:"Supabase anon keys are JWTs with 'anon' role",confidence:"high"},{name:"Supabase Service Role Key",pattern:/eyJ[A-Za-z0-9_\/+-]*\.eyJ[A-Za-z0-9_\/+-]*\."service_role"[A-Za-z0-9_\/+-]*\.[A-Za-z0-9_\/+-]*/,description:"Supabase service role keys are JWTs with 'service_role'",confidence:"high"},{name:"Replicate API Token",pattern:/r8_[a-zA-Z0-9]{40}/,description:"Replicate API tokens start with 'r8_'",confidence:"high"},{name:"Tavily API Key",pattern:/tvly-[a-zA-Z0-9]{38}/,description:"Tavily API keys start with 'tvly-'",confidence:"high"},{name:"Langchain API Key",pattern:/lc_[a-zA-Z0-9]{50}/,description:"Langchain API keys start with 'lc_'",confidence:"high"},{name:"Assembly AI API Key",pattern:/[a-f0-9]{32}/,description:"Assembly AI API keys are 32 character hex strings",confidence:"low"},{name:"ElevenLabs API Key",pattern:/[a-f0-9]{32}/,description:"ElevenLabs API keys are 32 character hex strings",confidence:"low"},{name:"Stability AI API Key",pattern:/sk-[a-zA-Z0-9]{48}/,description:"Stability AI API keys start with 'sk-'",confidence:"medium"},{name:"Midjourney Bot Token",pattern:/[MN][a-zA-Z0-9]{23}\.[a-zA-Z0-9]{6}\.[a-zA-Z0-9_-]{27}/,description:"Midjourney uses Discord bot tokens",confidence:"high"},{name:"WeChat Work Webhook",pattern:/https:\/\/qyapi\.weixin\.qq\.com\/cgi-bin\/webhook\/send\?key=[a-zA-Z0-9\-]{36}/,description:"WeChat Work webhook URLs",confidence:"high"},{name:"Lark Bot Token",pattern:/t-[a-zA-Z0-9]{64}/,description:"Lark/Feishu bot tokens start with 't-'",confidence:"high"},{name:"Airtable Personal Access Token",pattern:/pat[a-zA-Z0-9]{14}\.[a-zA-Z0-9]{64}/,description:"Airtable personal access tokens start with 'pat'",confidence:"high"},{name:"Notion Integration Token",pattern:/secret_[a-zA-Z0-9]{43}/,description:"Notion integration tokens start with 'secret_'",confidence:"high"},{name:"Monday.com API Key",pattern:/[a-f0-9]{64}/,description:"Monday.com API keys are 64 character hex strings",confidence:"low"},{name:"Asana Personal Access Token",pattern:/1\/[0-9]{16}:[a-f0-9]{32}/,description:"Asana personal access tokens have specific format",confidence:"high"},{name:"Figma Personal Access Token",pattern:/figd_[a-zA-Z0-9\-_]{43}/,description:"Figma personal access tokens start with 'figd_'",confidence:"high"}];function a(e){let t=[];for(let n of r)if("high"===n.confidence){let r=e.match(RegExp(n.pattern.source,"g"));r&&r.length>0&&t.push(n)}return t}function i(e){return a(e).length>0}},52055:function(e,t,n){n.d(t,{o:function(){return d}});var r=n(57437),a=n(99376),i=n(82176),s=n(62869),o=n(26110),c=n(10531),l=n(41135);function d(e){let{open:t,onOpenChange:n}=e,d=(0,a.useRouter)(),u=(0,i.dl)(c.P.GetStartedForFree);return(0,r.jsx)(o.Vq,{open:t,onOpenChange:n,children:(0,r.jsxs)(o.cZ,{className:"gap-4",size:"sm",children:[(0,r.jsxs)("div",{className:"flex flex-col items-start gap-4",children:[(0,r.jsx)(l.xx,{className:"h-9"}),(0,r.jsxs)(o.fK,{children:[(0,r.jsx)(o.$N,{className:"text-3xl",children:"Join and start building"}),(0,r.jsx)(o.Be,{children:"Log in or create a free account to start building your dream application"})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-3",children:[(0,r.jsx)(s.z,{onClick:()=>d.push("/login"),className:"w-full",variant:"outline",children:"Log in"}),(0,r.jsx)(s.z,{onClick:()=>d.push("/signup"),className:"w-full",children:u?"Get started for free":"Sign up"})]})]})})}},74026:function(e,t,n){n.d(t,{x:function(){return c}});var r=n(57437),a=n(30166),i=n(60256),s=n(94508);let o=(0,a.default)(()=>Promise.all([n.e(1543),n.e(1146)]).then(n.bind(n,11543)).then(e=>e.OutOfCreditsDialog),{loadableGenerated:{webpack:()=>[11543]},ssr:!1});function c(e){let{children:t,className:n,onSubmit:a,AuthDialogComponent:c}=e,{isOutOfCreditsDialogOpen:l}=(0,i.SE)();return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a()},className:(0,s.cn)("group flex flex-col gap-2 rounded-3xl border border-muted-border bg-muted p-3 transition-colors duration-150 ease-in-out",n),children:[t,l&&(0,r.jsx)(o,{}),c]})}},93681:function(e,t,n){n.d(t,{s:function(){return i}});var r=n(57437),a=n(94508);let i=e=>{let{children:t,className:n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex items-center gap-1",n),children:t})}},97752:function(e,t,n){n.d(t,{T:function(){return u}});var r=n(57437),a=n(2265),i=n(27132),s=n(24032),o=n(94508),c=n(22287),l=n(57346),d=n(81103);let u=e=>{let{setSelectedImageUrl:t}=e,n=(0,s.Eh)(e=>e.images),i=(0,s.Eh)(e=>e.setImages),o=(0,a.useCallback)(e=>{i(t=>t.filter(t=>t.url!==e))},[i]);return 0===n.length?null:(0,r.jsx)("div",{className:"flex flex-1 flex-nowrap gap-2 overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-[#636575]",children:n.map(e=>(0,r.jsx)(p,{setSelectedImageUrl:t,image:e,removeImage:o},e.url))})},p=e=>{let{image:t,removeImage:n,setSelectedImageUrl:s}=e,u=(0,a.useCallback)(()=>{s&&s(t.url)},[t.url,s]),p=(0,i.Z)("md"),h=s?"button":"div";return(0,r.jsxs)("div",{className:"group/attached-image relative flex flex-wrap gap-2",children:[(0,r.jsx)(h,{className:(0,o.cn)("h-12 w-12 p-0",p&&"h-24 w-24"),type:"button",onClick:u,children:(0,r.jsx)("img",{src:t.url,alt:"Uploaded image preview",className:"h-full w-full rounded-md border object-cover"})}),t.uploading&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-md bg-background",children:(0,r.jsx)(c.$,{size:"small"})}),(0,r.jsxs)(d.u,{instant:!0,children:[(0,r.jsx)(d.aJ,{asChild:!0,children:(0,r.jsx)("button",{className:(0,o.cn)("absolute right-0 top-0 z-[10001] flex items-center justify-center rounded-full bg-primary text-xs text-primary-foreground opacity-0 shadow shadow-background/25 transition-opacity duration-150 ease-out group-hover/attached-image:opacity-100",p&&"h-5 w-5 bg-muted text-foreground opacity-100"),onClick:()=>n(t.url),children:(0,r.jsx)(l.Z,{name:"close_small",size:p?"default":"small"})})}),(0,r.jsx)(d._v,{children:"Remove"})]})]},t.url)}},84350:function(e,t,n){n.d(t,{O:function(){return s},x:function(){return o}});var r=n(57437),a=n(2265);let i=(0,a.createContext)(null),s=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useChatInputContext must be used within a ChatInputProvider");return e},o=e=>{let{children:t,onSendChatMessage:n,hasActiveLock:s,isSubmitting:o}=e,c=(0,a.useRef)(null),[l,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),h=(0,a.useMemo)(()=>({sendChatMessage:n,chatInputFormRef:c,hasActiveLock:s,isSubmitting:o,isVoiceListening:l,setIsVoiceListening:d,isEnhancing:u,setIsEnhancing:p}),[n,c,s,o,l,d,u,p]);return(0,r.jsx)(i.Provider,{value:h,children:t})}},71830:function(e,t,n){n.d(t,{E:function(){return p}});var r=n(57437),a=n(2265),i=n(44481),s=n(27132),o=n(24032),c=n(94508),l=n(57346),d=n(76818),u=n(84350);let p=e=>{let{autoSize:t,minHeight:n=40,className:p,shouldAutoFocus:f,placeholder:m,forceShowPlaceholder:g,disabled:A,isChatModeActive:y=!1,onEnableChatMode:k=()=>{},onDisableChatMode:v=()=>{},enableSlashCommands:b=!1}=e,{chatInputFormRef:x,isVoiceListening:w,isEnhancing:I}=(0,u.O)(),{store:P}=(0,o.WR)(),_=P(e=>e.message),z=P(e=>e.setMessage),[S,Z]=(0,a.useState)(!1),j=(0,a.useRef)(null),T=(0,s.Z)("md"),E=(0,a.useCallback)(e=>{let t=e.target.value,n=t;b&&(/^\/\s*(c|ch|cha|chat)?$/i.test(t)?Z(!0):Z(!1),/^\/\s*chat\s+/i.test(t)&&(k(),n=t.replace(/^\/\s*chat\s+/i,""),Z(!1))),z(n)},[z,b,k]);return h({autoSize:t,value:_,textareaRef:x,minHeight:n}),(0,i.y1)("t",e=>{e.preventDefault(),x.current&&x.current.focus()}),(0,a.useEffect)(()=>{(null==x?void 0:x.current)&&!T&&x.current.focus()},[_,x,T]),(0,a.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&x.current&&!x.current.contains(e.target)&&Z(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]),(0,r.jsxs)("div",{className:"relative flex flex-1 items-center",children:[b&&y&&(0,r.jsx)("div",{className:"ml-1.5 mt-0 py-2",children:(0,r.jsx)("div",{className:"mt-0 h-fit rounded-sm bg-affirmative px-2 py-0.5 text-xs font-medium text-affirmative-foreground dark:bg-affirmative dark:text-affirmative-foreground",children:"Chat"})}),b&&S&&(0,r.jsx)("div",{ref:j,className:"absolute -top-10 left-2 z-50 cursor-pointer rounded-md border border-input bg-popover p-1 shadow-md",onClick:()=>{x.current&&(z(""),k(),Z(!1),x.current.focus())},children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5 rounded-sm bg-accent px-2 py-1",children:[(0,r.jsx)(l.Z,{name:"emoji_objects",className:"h-4 w-4"}),(0,r.jsx)("span",{className:"font-medium",children:"Chat"})]})}),(0,r.jsx)(d.g,{id:"chatinput",autoFocus:f,ref:null!=x?x:void 0,disabled:A||I,readOnly:w,value:g?"":_,onChange:E,onFocus:e=>{let t=/Android/i.test(navigator.userAgent);T&&t&&setTimeout(()=>{e.target.scrollIntoView({behavior:"smooth",block:"center"})},200)},className:(0,c.cn)("resize-none text-[16px] leading-snug placeholder-shown:text-ellipsis placeholder-shown:whitespace-nowrap md:text-base","focus-visible:ring-0 focus-visible:ring-offset-0","max-h-[200px] scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted-foreground","bg-transparent focus:bg-transparent","flex-1",{"cursor-default text-muted-foreground":w},I&&"shimmer-text",p),style:{minHeight:n},placeholder:m,onKeyDown:e=>{if("Backspace"===e.key&&""===e.target.value&&(v(),Z(!1)),"Enter"===e.key&&!e.shiftKey&&!T){if(e.preventDefault(),Z(!1),b&&S)k(),z("");else{let t=e.currentTarget.closest("form");t&&t.requestSubmit(),e.currentTarget.blur()}}}})]})};p.displayName="ChatInputTextArea";let h=e=>{let{autoSize:t,value:n,textareaRef:r,minHeight:i=0}=e;(0,a.useLayoutEffect)(()=>{if(!r.current||!t)return;let e=r.current,a=document.createElement("div");a.style.visibility="hidden",a.style.position="absolute",a.style.overflow="hidden",a.style.whiteSpace="pre-wrap",a.style.wordBreak="break-word",document.body.appendChild(a);let s=window.getComputedStyle(e);a.style.width=s.width,a.style.padding=s.padding,a.style.lineHeight=s.lineHeight,a.style.fontSize=s.fontSize,a.style.fontFamily=s.fontFamily,a.style.boxSizing=s.boxSizing,a.textContent=n+"\n";let o=Math.max(a.scrollHeight,i);e.style.height!=="".concat(o,"px")&&(e.style.height="".concat(o,"px")),document.body.removeChild(a)},[n,r,i,t])}},61160:function(e,t,n){n.d(t,{L:function(){return s},y:function(){return c}});var r=n(57437),a=n(94508),i=n(24032);let s=e=>e.length>5e4,o=e=>s(e)?"Message is too long. Exceeded by ".concat(e.length-5e4," character")+(e.length-5e4==1?"":"s"):5e4-e.length<1e3?"".concat(5e4-e.length," character")+(5e4-e.length==1?"":"s")+" left":"",c=()=>{let e=(0,i.Eh)(e=>e.message),t=o(e),n=s(e);return t?(0,r.jsx)("div",{className:(0,a.cn)("mx-2 flex items-center text-sm text-muted-foreground",{"text-destructive-foreground":n}),children:t}):null}},29991:function(e,t,n){n.d(t,{r:function(){return m}});var r=n(57437),a=n(2265),i=n(82176),s=n(14438),o=n(84350);let c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",[t,n]=(0,a.useState)(""),[r,i]=(0,a.useState)(!1),[c,l]=(0,a.useState)(null),[d,u]=(0,a.useState)(0),p=(0,a.useRef)(null),h=(0,a.useRef)(null),f=(0,a.useRef)(null),m=(0,a.useRef)(null),g=(0,a.useRef)(null),{isVoiceListening:A,setIsVoiceListening:y}=(0,o.O)();(0,a.useEffect)(()=>{let t=window.SpeechRecognition||window.webkitSpeechRecognition;if(t){var r;if(null===(r=navigator)||void 0===r?void 0:r.brave){i(!1);return}i(!0);let a=new t;a.continuous=!0,a.interimResults=!0,a.lang=e,a.onresult=e=>{let t=e.resultIndex,r=e.results[t][0].transcript;e.results[t].isFinal&&n(r)},a.onerror=e=>{console.error("Speech recognition error",e),"network"===e.error?s.Am.error("Voice mode is not supported on this browser."):"not-allowed"===e.error?s.Am.error("Microphone access denied. Please allow microphone access in your browser settings."):"no-speech"===e.error?s.Am.warning("No speech detected. Please try speaking again."):s.Am.error("Speech recognition error. Please try again."),y(!1),b()},a.onend=()=>{y(!1),b()},l(a)}else i(!1);return()=>{c&&(c.onresult=null,c.onend=null,c.onerror=null,A&&c.stop()),b()}},[]);let k=(0,a.useCallback)(()=>{if(!h.current||!m.current)return;h.current.getByteFrequencyData(m.current);let e=m.current,t=0;for(let n=0;n<e.length;n++)t+=e[n];u(Math.min(t/e.length/128,1)),g.current=requestAnimationFrame(k)},[]),v=(0,a.useCallback)(async()=>{try{let e=new(window.AudioContext||window.webkitAudioContext);p.current=e;let t=await navigator.mediaDevices.getUserMedia({audio:!0}),n=p.current.createMediaStreamSource(t);f.current=n;let r=p.current.createAnalyser();r.fftSize=256,h.current=r,f.current.connect(h.current);let a=new Uint8Array(h.current.frequencyBinCount);m.current=a,k()}catch(e){console.error("Error accessing microphone for volume analysis:",e)}},[k]),b=(0,a.useCallback)(()=>{g.current&&(cancelAnimationFrame(g.current),g.current=null),f.current&&(f.current.disconnect(),f.current=null),p.current&&"closed"!==p.current.state&&p.current.suspend(),u(0)},[]),x=(0,a.useCallback)(()=>{if(c&&!A)try{c.start(),y(!0),n(""),v()}catch(e){console.error("Error starting speech recognition:",e),s.Am.error("Couldn't start listening. Please try again."),y(!1)}},[c,A,v]),w=(0,a.useCallback)(()=>{c&&A&&(c.stop(),y(!1),b())},[c,A,b]);return{isSupported:r,isVoiceListening:A,transcript:t,volume:d,startListening:x,stopListening:w}};var l=n(10531),d=n(24032),u=n(94508),p=n(62869),h=n(78276),f=n(57346);let m=e=>{var t;let{className:n,size:s="small",disabled:m=!1}=e,{isSubmitting:g}=(0,o.O)(),[A,y]=(0,a.useState)(""),{store:k}=(0,d.WR)(),v=k(e=>e.setMessage),b=k(e=>e.message),{isSupported:x,isVoiceListening:w,transcript:I,volume:P,startListening:_,stopListening:z}=c("en-US"),S=null!==(t=(0,i.dl)(l.P.VoiceMode))&&void 0!==t&&t;(0,a.useEffect)(()=>{g&&z()},[g,z]),(0,a.useEffect)(()=>{if(I&&I!==A){let e=b?"".concat(b):"";v("".concat(e).concat(I)),y(I)}},[I,A,v,b]);let Z=(0,a.useCallback)(()=>{w?z():_()},[w,_,z]),j=(0,a.useRef)(!1);if((0,a.useEffect)(()=>{j.current||(j.current=!0)},[]),!S||!j.current)return null;let T=(0,r.jsxs)(p.z,{type:"button",variant:"outline",className:(0,u.cn)("relative z-10 hidden rounded-full p-0 text-muted-foreground transition-opacity duration-150 disabled:cursor-not-allowed disabled:opacity-50 md:flex",n,"items-center justify-center",w&&"border-none bg-muted hover:bg-affirmative","large"===s&&"h-8 w-8","small"===s&&"h-6 w-6"),disabled:m||!x,onClick:Z,children:[w&&(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-affirmative",style:{transform:"scale(".concat(P/5+1,")")}}),(0,r.jsx)(f.Z,{name:w?"stop_circle":"graphic_eq",className:(0,u.cn)("relative z-10","large"===s&&"h-5 w-5","small"===s&&"h-3.5 w-3.5",w&&"text-affirmative-primary")})]});return(0,r.jsx)(h.b,{showTooltip:!x,tooltipContent:"Voice is not supported on this browser",children:T})}},27466:function(e,t,n){n.d(t,{O:function(){return c}});var r=n(57437),a=n(46214),i=n(53647),s=n(96484),o=n(57346);let c=e=>{let{projectId:t}=e,{selectedModel:n,setSelectedModel:c}=(0,s.L6)(),l=e=>{a.ZP.capture("model_selected",{model:e,project_id:t}),c(e)};return(0,r.jsxs)(i.Ph,{value:n||"",onValueChange:e=>l(e),children:[(0,r.jsxs)(i.i4,{className:"h-6 w-fit gap-1.5 rounded-full border bg-transparent px-1.5 py-0.5 text-muted-foreground shadow-none hover:border-border hover:bg-transparent md:hover:bg-accent md:hover:text-muted-foreground",children:[(0,r.jsx)(o.Z,{name:"smart_toy",size:"small"}),(0,r.jsx)(i.ki,{placeholder:"Select model",className:"gap-0"})]}),(0,r.jsx)(i.Bw,{align:"end",children:s.fm.map(e=>(0,r.jsx)(i.Ql,{value:e,children:e},e))})]})}},16054:function(e,t,n){n.d(t,{j:function(){return b}});var r=n(57437),a=n(2265),i=n(85598),s=n(14438),o=n(49360),c=n(84350),l=n(54887);let d={JPEG:{mimeType:"image/jpeg",extensions:[".jpg",".jpeg"],displayName:"JPG"},PNG:{mimeType:"image/png",extensions:[".png"],displayName:"PNG"},WEBP:{mimeType:"image/webp",extensions:[".webp"],displayName:"WEBP"}},u=()=>Object.values(d).reduce((e,t)=>({...e,[t.mimeType]:t.extensions}),{}),p=e=>Object.values(d).some(t=>t.mimeType===e),h=()=>{let e=Object.values(d).map(e=>e.displayName),t=e.pop();return"".concat(e.join(", "),", or ").concat(t)},f=()=>20971520,m=e=>p(e.type),g=e=>{var t;let n=null===(t=e.clipboardData)||void 0===t?void 0:t.items;return n?Array.from(n).filter(e=>"file"===e.kind).map(e=>e.getAsFile()).filter(Boolean).filter(m):[]};var A=n(94508),y=n(57346);let k=(0,a.memo)(e=>{let{getRootProps:t,portalTargetRef:n,isDragReject:i}=e,[s,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),u=(0,a.useRef)(0),p=(0,a.useRef)(""),[f,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{m((null==n?void 0:n.current)||document.body)},[n]);let g=!!(null==n?void 0:n.current);(0,a.useEffect)(()=>{u.current=0},[f]);let k=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),v=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u.current--,u.current<=0&&(u.current=0,o(!1))},[]),b=(0,a.useCallback)(e=>{var t;e.preventDefault(),e.stopPropagation(),u.current++,(null===(t=e.dataTransfer)||void 0===t?void 0:t.types.includes("Files"))&&o(!0)},[]),x=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u.current=0,o(!1)},[]);return((0,a.useEffect)(()=>{if(!f)return;let e=[["dragenter",b],["dragleave",v],["dragover",k],["drop",x]];return e.forEach(e=>{let[t,n]=e;f.addEventListener(t,n)}),()=>{e.forEach(e=>{let[t,n]=e;f.removeEventListener(t,n)})}},[f,b,v,k,x]),(0,a.useEffect)(()=>{if(f)return s?(p.current=f.style.overflow,f.style.overflow="hidden"):void 0!==p.current&&(f.style.overflow=p.current),()=>{f&&void 0!==p.current&&(f.style.overflow=p.current)}},[s,f]),(0,a.useEffect)(()=>{d(!0)},[]),f&&c)?(0,l.createPortal)((0,r.jsx)("div",{...t(),className:(0,A.cn)("inset-0 z-30 flex items-center justify-center bg-background/95 transition-opacity duration-75",g?"absolute pl-3":"fixed",s?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 px-20 py-10",children:[(0,r.jsx)(y.Z,{name:"panorama",className:"h-10 w-10"}),(0,r.jsx)("h1",{className:"text-center",children:i?"Invalid file type":"Add images"}),(0,r.jsx)("p",{className:"text-center",children:i?"Make sure your images are in the correct format (".concat(h(),")"):"Drop any images here to add them to your message"})]})}),f):null},(e,t)=>{var n,r;return e.isDragReject===t.isDragReject&&(null===(n=e.portalTargetRef)||void 0===n?void 0:n.current)===(null===(r=t.portalTargetRef)||void 0===r?void 0:r.current)});k.displayName="ImageDropzone";var v=n(24032);let b=e=>{let{portalTargetRef:t,onDropAccepted:n}=e,{chatInputFormRef:l}=(0,c.O)(),d=(0,v.Eh)(e=>e.setImages),p=(0,v.Eh)(e=>e.images),h=(0,v.Eh)(e=>e.setImagesAddedViaDropdown),m=(0,a.useCallback)(e=>{if(p.length+e.length>10){s.Am.error("Image limit reached",{description:"Please limit your message to ".concat(10," images.")});return}let t=e.map(e=>({url:URL.createObjectURL(e),name:e.name,uploading:!1,uploaded:!1,id:(0,o.Z)()}));d(e=>[...e,...t])},[d,p]),{getInputProps:A,open:y,getRootProps:b,isDragReject:x}=(0,i.uI)({onDrop:m,onDropAccepted:()=>{var e;null==l||null===(e=l.current)||void 0===e||e.focus(),null==n||n()},noClick:!0,noKeyboard:!0,maxSize:f(),maxFiles:10-p.length,accept:u(),onDropRejected:e=>{let t=!1;for(let n of e)if(n.errors.length>0){let e=n.errors[0].message,r=n.errors[0].code;if("file-too-large"===n.errors[0].code)r="File too large",e="File is too large. Max size is 20MB";else if("too-many-files"===n.errors[0].code){if(t)continue;r="Image limit reached",e="Please limit your message to ".concat(10," images."),t=!0}s.Am.error(r,{description:e})}}});(0,a.useEffect)(()=>{let e=e=>{let t=g(e);if(t.length>0){var n;m(t),null==l||null===(n=l.current)||void 0===n||n.focus()}};return window.addEventListener("paste",e),()=>window.removeEventListener("paste",e)},[m,l]);let w=(0,r.jsx)(k,{getRootProps:b,portalTargetRef:t,isDragReject:x}),I=(0,a.useCallback)(()=>{h(!0),y()},[y,h]);return{dropzoneElement:w,openFileUpload:y,openFileUploadFromDropdown:I,getInputProps:A}}},95033:function(e,t,n){var r,a;n.d(t,{V:function(){return r}}),(a=r||(r={})).USER_UPLOAD="user_upload",a.IFRAME_SNAPSHOT="iframe_snapshot"}}]);